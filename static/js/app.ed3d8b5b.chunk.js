(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{656:function(e,n,t){"use strict";t.d(n,"a",(function(){return Pa}));var a=t(46),i=t(112),r=t(12),o=t(5),l=t(1032),d=t(1034),s=t(1031),c=t(11),u=t.n(c),m=t(4),b=t.n(m),k=t(14),g=t.n(k),j=t(1016),p=t(1038),h=t(314),y=t(0),v=t.n(y);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O=t(1033),N=t(1027),S=t(1028),C=t(241),w=t(48),F=t(1037),T=t(54),D=t(75),V=t(33),I=t(17),B=t.n(I),z=t(6),P=t(3),H={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",btnBackground:"hsl(213,10%,18%)",btnText:"hsl(0,0%,100%)",uncategorizedColor:"hsl(240,20%,80%)"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",btnBackground:"hsl(0,50%,50%)",btnText:"hsl(0,0%,0%)",uncategorizedColor:"hsl(240,20%,80$)"}},M=o.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:32,marginHorizontal:25,marginVertical:"5%",textAlign:"center",fontWeight:"bold"},alert:{color:"red",marginHorizontal:5,marginBottom:8,maxWidth:250,alignSelf:"center",textAlign:"center"},separator:{marginVertical:30,height:1,width:"80%"},colorTitle:{textAlign:"center",fontSize:20,marginTop:25},palette:{width:"75%",marginBottom:25},list:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:50,backgroundColor:"white",marginVertical:5,padding:10}}),_=t(1),A=["style","lightColor","darkColor"],E=["style","lightColor","darkColor"];function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function L(e,n){var t=e.light;return t||H.light[n]}function U(e){var n=e.style,t=e.lightColor,a=e.darkColor,i=B()(e,A),r=L({light:t,dark:a},"text");return Object(_.jsx)(z.a,W({style:[{color:r},n]},i))}function q(e){var n=e.style,t=e.lightColor,a=e.darkColor,i=B()(e,E),r=L({light:t,dark:a},"background");return Object(_.jsx)(P.a,W({style:[{backgroundColor:r},n]},i))}function J(e){var n=e.check,t=e.input;return!n||t?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:M.alert,children:"this field is required"})}var Y=t(116),$=t(1017);function G(e){var n=e.navigation;return Object(_.jsx)(q,{style:[M.container,Z.graybackground],children:Object(_.jsx)(D.a,{animationType:"slide",transparent:!0,visible:!0,onRequestClose:function(){n.goBack()},children:Object(_.jsxs)(V.a,{style:Z.centeredView,contentContainerStyle:{alignItems:"center",justifyContent:"space-between"},children:[Object(_.jsx)($.a,{style:Z.close,name:"close",size:32,color:"gray",onPress:function(){return n.goBack()}}),Object(_.jsx)(U,{style:{fontSize:30,width:250,fontWeight:"bold",textAlign:"center"},children:"We apologize for the inconvenience"}),Object(_.jsxs)(Y.Svg,{width:"205",height:"171",viewBox:"0 0 205 171",fill:"none",children:[Object(_.jsxs)(Y.G,{clipPath:"url(#clip0_61_75)",children:[Object(_.jsx)(Y.Path,{d:"M26.5205 105.266C34.1031 90.4073 46.8399 78.722 62.4178 72.3325C77.9958 65.943 95.3816 65.2729 111.418 70.4441C127.454 75.6152 141.078 86.2846 149.814 100.515C158.55 114.745 161.82 131.591 159.029 147.995L146.445 145.915C148.731 132.48 146.053 118.682 138.898 107.027C131.743 95.373 120.585 86.6346 107.451 82.3994C94.3171 78.1641 80.0779 78.7129 67.3194 83.946C54.5609 89.1791 44.1292 98.7495 37.919 110.919L26.5205 105.266Z",fill:"#292D32"}),Object(_.jsx)(Y.Circle,{cx:"79",cy:"28",r:"9",fill:"#292D32"}),Object(_.jsx)(Y.Circle,{cx:"127",cy:"28",r:"9",fill:"#292D32"})]}),Object(_.jsx)(Y.Defs,{children:Object(_.jsx)(Y.ClipPath,{id:"clip0_61_75",children:Object(_.jsx)(Y.Rect,{width:"205",height:"171",fill:"white"})})})]}),Object(_.jsxs)(U,{style:Z.contactemail,children:["Please contact ",Object(_.jsx)(U,{style:{fontWeight:"bold"},children:"admin@admin.com"})," for assistance with resetting your password."]})]})})})}var Z=o.a.create({graybackground:{backgroundColor:"rgba(0,0,0,0.2)"},contactemail:{fontSize:20,justifyContent:"center",textAlign:"center",width:"80%"},close:{display:"flex",alignSelf:"flex-start"},centeredView:{flex:1,marginVertical:"20%",marginHorizontal:"10%",backgroundColor:"white",borderRadius:20,padding:35,paddingBottom:50,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),K=t(31);function X(e){var n=e.navigation;return Object(_.jsxs)(q,{style:M.container,children:[Object(_.jsx)(U,{style:M.title,children:"This screen doesn't exist."}),Object(_.jsx)(K.a,{onPress:function(){return n.replace("Welcome")},style:Q.link,children:Object(_.jsx)(U,{style:Q.linkText,children:"Go to home screen!"})})]})}var Q=o.a.create({link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}});function ee(e){var n="half"===e.size?120:250,t=e.backgroundColor||H.light.btnBackground,a=e.textColor||H.light.btnText;return Object(_.jsx)(K.a,{onPress:e.onPress,accessibilityLabel:e.accessibilityLabel,disabled:e.disabled,children:Object(_.jsx)(q,{style:[ne.container,{backgroundColor:t,width:n}],children:Object(_.jsx)(U,{style:[ne.text,{color:a}],children:e.text})})})}var ne=o.a.create({container:{alignItems:"center",justifyContent:"center",height:50,borderRadius:10,marginTop:10},text:{fontWeight:"bold"}}),te=t(74),ae=["style"];function ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function re(e){var n=e.style,t=B()(e,ae);return Object(_.jsx)(te.a,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({placeholderTextColor:"grey",style:[n,le.input]},t))}var oe,le=o.a.create({input:{width:250,height:50,borderWidth:1,paddingHorizontal:15,borderColor:"black",borderRadius:7}}),de=t(1018);!function(e){e.April="APRIL",e.August="AUGUST",e.December="DECEMBER",e.February="FEBRUARY",e.January="JANUARY",e.July="JULY",e.June="JUNE",e.March="MARCH",e.May="MAY",e.November="NOVEMBER",e.October="OCTOBER",e.September="SEPTEMBER"}(oe||(oe={}));var se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"login"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signIn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SignInSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"passwordHash"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastName"}},{kind:"Field",name:{kind:"Name",value:"firstName"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"email"}},{kind:"Field",name:{kind:"Name",value:"phoneNumber"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getCategories"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategoriesSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fname"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lname"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"phone"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signUp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"firstName"},value:{kind:"Variable",name:{kind:"Name",value:"fname"}}},{kind:"Argument",name:{kind:"Name",value:"lastName"},value:{kind:"Variable",name:{kind:"Name",value:"lname"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"phoneNumber"},value:{kind:"Variable",name:{kind:"Name",value:"phone"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreateUserSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"passwordHash"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"color"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"details"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"colourHex"},value:{kind:"Variable",name:{kind:"Name",value:"color"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"details"}}},{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategorySuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"color"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"details"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"colourHex"},value:{kind:"Variable",name:{kind:"Name",value:"color"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"details"}}},{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategorySuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeleteSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successMessage"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getExpenses"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expenses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExpensesSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expenses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getExpense"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expenseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expense"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"expenseId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExpenseSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expense"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}},{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"date"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},he={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createExpense"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"epochDate"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createExpense"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"epochDate"},value:{kind:"Variable",name:{kind:"Name",value:"epochDate"}}},{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}},{kind:"Argument",name:{kind:"Name",value:"categoryId"},value:{kind:"Variable",name:{kind:"Name",value:"categoryId"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExpenseSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expense"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ye={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateExpense"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"epochDate"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateExpense"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"epochDate"},value:{kind:"Variable",name:{kind:"Name",value:"epochDate"}}},{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}},{kind:"Argument",name:{kind:"Name",value:"categoryId"},value:{kind:"Variable",name:{kind:"Name",value:"categoryId"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExpenseSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expense"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteExpense"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteExpense"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeleteSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successMessage"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMerchants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchantsSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchants"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"defaultCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createMerchant"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"defaultCategoryId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMerchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"defaultCategoryId"},value:{kind:"Variable",name:{kind:"Name",value:"defaultCategoryId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchantSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"defaultCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBudgets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgets"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetsSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgets"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"budgetCategories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createBudget"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createBudget"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budget"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createBudgetCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"budgetId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"categoryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createBudgetCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"budgetId"},value:{kind:"Variable",name:{kind:"Name",value:"budgetId"}}},{kind:"Argument",name:{kind:"Name",value:"categoryId"},value:{kind:"Variable",name:{kind:"Name",value:"categoryId"}}},{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetCategorySuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgetCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"budget"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},Ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateBudgetCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBudgetCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetCategorySuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgetCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},we={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMerchant"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"defaultCategoryId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMerchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"defaultCategoryId"},value:{kind:"Variable",name:{kind:"Name",value:"defaultCategoryId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchantSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"defaultCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteBudgetCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteBudgetCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeleteSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successMessage"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},Te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMonthBreakdown"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"monthBreakdown"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MonthBreakdown"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"byCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountSpent"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"byMerchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"Field",name:{kind:"Name",value:"amountSpent"}}]}},{kind:"Field",name:{kind:"Name",value:"topMerchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"amountSpent"}}]}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"totalSpent"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"copyBudget"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"copyBudget"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budget"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getExpensesInMonth"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expensesInMonth"},arguments:[{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}},{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExpensesSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"expenses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}},{kind:"Field",name:{kind:"Name",value:"merchant"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteMerchant"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteMerchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeleteSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"successMessage"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMonthTotals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"monthsTotals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MonthsTotals"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"byMonth"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountBudgeted"}},{kind:"Field",name:{kind:"Name",value:"amountSpent"}},{kind:"Field",name:{kind:"Name",value:"amountSpentPlanned"}},{kind:"Field",name:{kind:"Name",value:"amountSpentUnplanned"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"averageSpent"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}}]}}]}}]}}]},ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"merchantsAndCategories"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"merchants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchantsSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"merchants"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"defaultCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CategoriesSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"categories"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"homePageData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgetDetailsByDate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetDetails"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalActual"}},{kind:"Field",name:{kind:"Name",value:"byCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"expenses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"date"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"colourHex"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"amountActual"}},{kind:"Field",name:{kind:"Name",value:"amountBudgeted"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"monthBreakdown"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MonthBreakdown"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalSpent"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},He={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"budgetDetailsByDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"month"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MonthType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"year"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"budgetDetailsByDate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"passwordHash"},value:{kind:"Variable",name:{kind:"Name",value:"passwordHash"}}},{kind:"Argument",name:{kind:"Name",value:"month"},value:{kind:"Variable",name:{kind:"Name",value:"month"}}},{kind:"Argument",name:{kind:"Name",value:"year"},value:{kind:"Variable",name:{kind:"Name",value:"year"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BudgetDetails"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"byCategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountBudgeted"}},{kind:"Field",name:{kind:"Name",value:"amountActual"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FailurePayload"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"exceptionName"}},{kind:"Field",name:{kind:"Name",value:"errorMessage"}}]}}]}}]}}]},Me=t(71);function _e(e){var n=Object(y.useState)(""),t=b()(n,2),a=t[0],i=t[1],r=Object(w.p)(),o=Object(de.a)(ue,{onCompleted:function(e){"FailurePayload"===e.categories.__typename&&"NotAuthorizedException"===e.categories.exceptionName&&Me.a.setItem("passwordHash","").then((function(){r.navigate("Welcome")})).catch((function(e){console.log("Error occurred while trying to clear the invalid locally stored passwordHash.")}))}}),l=b()(o,1)[0];return Object(y.useEffect)((function(){Me.a.getItem("passwordHash").then((function(n){if((null==e?void 0:e.onRetrieved)&&e.onRetrieved(n||""),null!=e&&e.redirect)switch(e.redirect){case"ifAuthorized":n&&r.navigate("Root");break;case"ifUnauthorized":n?l({variables:{passwordHash:n}}):r.navigate("Welcome")}i(n||"")})).catch((function(e){console.log("Error retrieving passwordHash from AsyncStorage: "+e)}))}),[]),a}var Ae=t(149),Ee=t(226);function Re(e){var n=e.children,t=e.onDismissKeyboard,a=e.backdrop;return Object(_.jsx)(Ee.a,{onPress:function(){T.a.dismiss(),t&&t()},children:Object(_.jsxs)(Ae.a,{style:We.screen,children:[n,a&&Object(_.jsx)(q,{style:We.backdrop})]})})}var We=o.a.create({screen:{flex:1,backgroundColor:"white"},backdrop:{backgroundColor:"rgba(0,0,0,0.5)",position:"absolute",top:0,left:0,height:"100%",width:"100%"}});function Le(e){var n=e.navigation,t=Object(y.useState)(""),i=b()(t,2),r=i[0],o=i[1],l=Object(y.useState)(""),d=b()(l,2),s=d[0],c=d[1];_e({redirect:"ifAuthorized"});var u=Object(de.a)(se,{onCompleted:function(e){"SignInSuccess"===(null==e?void 0:e.signIn.__typename)&&Me.a.setItem("passwordHash","SignInSuccess"===e.signIn.__typename?e.signIn.passwordHash:"").then((function(){n.navigate("Root")}))},onError:function(e){}}),m=b()(u,2),k=m[0],g=m[1],j=g.loading,p=(g.error,g.data);return Object(_.jsx)(Re,{children:Object(_.jsxs)(q,{style:Ue.screen,children:[Object(_.jsx)(U,{style:Ue.title,children:"Sign into your account"}),j?Object(_.jsx)(a.a,{size:"large"}):"SignInSuccess"===(null==p?void 0:p.signIn.__typename)?Object(_.jsx)(U,{children:"Sign in successful"}):Object(_.jsx)(U,{style:[M.alert,{paddingTop:20}],children:"FailurePayload"===(null==p?void 0:p.signIn.__typename)&&"Invalid credentials."}),Object(_.jsxs)(q,{style:Ue.textfields,children:[Object(_.jsx)(re,{style:Ue.input,placeholder:"Username",onChangeText:function(e){return o(e)},value:r}),Object(_.jsx)(re,{style:Ue.input,placeholder:"Password",onChangeText:function(e){return c(e)},value:s,secureTextEntry:!0})]}),Object(_.jsx)(K.a,{onPress:function(){return n.navigate("ForgotPasswordModal")},style:Ue.helpLink,children:Object(_.jsx)(U,{style:Ue.helpLinkText,lightColor:H.light.tint,children:"Forgot Password?"})}),Object(_.jsx)(q,{style:Ue.buttonContainer,children:Object(_.jsx)(ee,{text:"Sign In",onPress:function(){r&&s&&k({variables:{username:r,password:s}})},accessibilityLabel:"Sign In Button"})})]})})}var Ue=o.a.create({screen:{flex:1,backgroundColor:"white",alignItems:"center"},title:{marginTop:25,fontSize:36,fontWeight:"bold",width:250,textAlign:"center"},input:{margin:12},textfields:{marginBottom:0},buttonContainer:{marginTop:80},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"},helpContainer:{marginTop:5,marginHorizontal:20,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{textAlign:"center"}}),qe=t(1020),Je=t(43),Ye=o.a.create({screen:{flex:1,backgroundColor:"white"},scrollView:{width:"100%"},formContainer:{width:"100%",alignItems:"center"},codeText:{marginRight:5},phoneContainer:{width:250,height:50,borderWidth:1,paddingHorizontal:15,borderColor:"black",borderRadius:7,marginVertical:7},textField:{height:50,backgroundColor:"invisible",paddingHorizontal:2},phoneInput:{fontSize:14,height:50,width:170},countryBtn:{width:30},alert:{color:"red",marginHorizontal:5,marginBottom:8,maxWidth:250,textAlign:"center"},reqs:{color:"gray",fontSize:14,marginHorizontal:5,marginBottom:1},formField:{marginVertical:7},icon:{position:"absolute",right:13,top:"50%",transform:[{translateY:-7.5}]},pwordinput:{paddingRight:33},btnContainer:{marginTop:20,marginBottom:40}}),$e=t(657);function Ge(e){var n=e.navigation,t=Object(y.useState)(""),i=b()(t,2),r=i[0],o=i[1],l=Object(y.useState)(""),d=b()(l,2),s=d[0],c=d[1],u=Object(y.useState)(""),m=b()(u,2),k=m[0],p=m[1],h=Object(y.useState)(""),v=b()(h,2),f=v[0],x=v[1],O=Object(y.useState)(""),N=b()(O,2),S=N[0],C=N[1],w=Object(y.useState)(""),F=b()(w,2),T=F[0],D=F[1],I=Object(y.useState)(""),B=b()(I,2),z=B[0],P=B[1],H=Object(y.useState)(!1),A=b()(H,2),E=A[0],R=A[1],W=Object(y.useState)(!1),L=b()(W,2),Y=L[0],$=L[1],G=Object(y.useState)(!1),Z=b()(G,2),K=Z[0],X=Z[1],Q=Object(y.useState)(!1),ne=b()(Q,2),te=ne[0],ae=ne[1],ie=Object(y.useState)(!1),oe=b()(ie,2),le=oe[0],de=oe[1],se=Object(y.useState)(!1),ce=b()(se,2),ue=ce[0],be=ce[1],ke=Object(y.useState)(!0),ge=b()(ke,2),je=ge[0],pe=ge[1],he=Object(y.useState)(!0),ye=b()(he,2),ve=ye[0],fe=ye[1],xe=Object(y.useState)(!0),Oe=b()(xe,2),Ne=Oe[0],Se=Oe[1],Ce=Object(y.useState)(!0),we=b()(Ce,2),Fe=we[0],Te=we[1],De=Object(y.useState)(!0),Ve=b()(De,2),Ie=Ve[0],Be=Ve[1],ze=Object(y.useState)(!0),Pe=b()(ze,2),He=Pe[0],Ae=Pe[1],Ee=Object(y.useState)(!0),Re=b()(Ee,2),We=Re[0],Le=Re[1],Ue=Object(y.useState)(!0),Ge=b()(Ue,2),Ze=Ge[0],Ke=Ge[1],Xe=Object(y.useState)(!0),Qe=b()(Xe,2),en=Qe[0],nn=Qe[1],tn=Object(y.useState)(!0),an=b()(tn,2),rn=an[0],on=an[1];_e({redirect:"ifAuthorized"});var ln=Object(qe.a)(me,{variables:{fname:s,lname:k,username:r,email:f,phone:S,password:T},onError:function(e){Je.a.alert(e.message)},onCompleted:function(){return bn()}}),dn=b()(ln,2),sn=dn[0],cn=dn[1],un=cn.loading,mn=cn.data;Object(y.useEffect)((function(){fe(T.length>=8),Se(/[A-Z]/.test(T)&&/[a-z]/.test(T)),Te(/\d/.test(T)),Be(/[^A-Za-z0-9]/.test(T))}),[T]),Object(y.useEffect)((function(){Ae(r.length>=4),Le(16===r.length),Ke(/^[A-Za-z0-9_.]*$/.test(r))}),[r]),Object(y.useEffect)((function(){nn(/^[^/\\*;:,{}\[\]()$?]+@+[^/\\~`*;:,|{}\[\]=()%$?]+[.]{1}[^/\\~`*;:,|{}\[\]=()%$?]+$/.test(f))}),[f]),Object(y.useEffect)((function(){on(0===S.length||S.length>=6)}),[S]);var bn=function(){return g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("CreateUserSuccess"!==(null==mn?void 0:mn.signUp.__typename)){e.next=10;break}return e.prev=1,e.next=4,g.a.awrap(Me.a.setItem("passwordHash",mn.signUp.passwordHash,(function(){return n.navigate("Root")})));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),Je.a.alert("Something went wrong");case 10:case"end":return e.stop()}}),null,null,[[1,6]],Promise)};return Object(_.jsxs)(q,{style:Ye.screen,children:[Object(_.jsx)(U,{style:M.title,children:"Create a New Account"}),un?Object(_.jsx)(a.a,{size:"large"}):"CreateUserSuccess"===(null==mn?void 0:mn.signUp.__typename)?Object(_.jsx)(U,{children:"Account created successfully! Logging you in..."}):Object(_.jsx)(U,{style:Ye.alert,children:null==mn?void 0:mn.signUp.errorMessage}),Object(_.jsx)(V.a,{style:Ye.scrollView,children:Object(_.jsxs)(q,{style:Ye.formContainer,children:[Object(_.jsx)(re,{style:Ye.formField,onChangeText:function(e){return c(e)},value:s,placeholder:"First Name*"}),Object(_.jsx)(J,{check:E,input:s}),Object(_.jsx)(re,{style:Ye.formField,onChangeText:function(e){return p(e)},value:k,placeholder:"Last Name*"}),Object(_.jsx)(J,{check:E,input:k}),Object(_.jsx)(re,{style:Ye.formField,onChangeText:function(e){o(e.substring(0,16)),X(!1)},onBlur:function(){return X(!0)},value:r,placeholder:"Username*"}),Object(_.jsx)(J,{check:E,input:r}),Object(_.jsx)((function(){return r&&K&&!He?Object(_.jsx)(U,{style:Ye.alert,children:"Username must have at least 4 characters"}):We?Object(_.jsx)(U,{style:Ye.alert,children:"Maximum length reached"}):Ze?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:Ye.alert,children:"Username can only include letters, numbers, underscore (_) and dot (.)"})}),{}),Object(_.jsx)(re,{keyboardType:"email-address",style:Ye.formField,onChangeText:function(e){x(e.replace(/\s+/g,"")),de(!1)},onBlur:function(){return de(!0)},value:f,placeholder:"Email*"}),Object(_.jsx)((function(){return le&&f&&!en?Object(_.jsx)(U,{style:Ye.alert,children:"Invalid email address"}):Object(_.jsx)(_.Fragment,{})}),{}),Object(_.jsx)(J,{check:E,input:f}),Object(_.jsxs)(q,{style:Ye.formField,children:[Object(_.jsx)(re,{style:Ye.pwordinput,onChangeText:function(e){return D(e)},value:T,onFocus:function(){return ae(!0)},onBlur:function(){return ae(!1)},secureTextEntry:je,placeholder:"Password*"}),Object(_.jsx)(j.a,{style:Ye.icon,name:je?"eye":"eye-slash",size:15,onPress:function(){return pe(!je)}})]}),Object(_.jsx)(J,{check:E,input:T}),te?Object(_.jsx)((function(){return Ne&&ve&&Fe&&Ie?Object(_.jsx)(_.Fragment,{}):Object(_.jsxs)(q,{children:[Object(_.jsx)(U,{style:Ye.reqs,children:"Password requirements:"}),ve?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:Ye.reqs,children:" - 8 characters minimum"}),Ne?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:Ye.reqs,children:" - Upper and lower case letters"}),Fe?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:Ye.reqs,children:" - At least one number"}),Ie?Object(_.jsx)(_.Fragment,{}):Object(_.jsx)(U,{style:Ye.reqs,children:" - At least one special character"})]})}),{}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(re,{style:Ye.formField,onChangeText:function(e){P(e),$(!1)},onBlur:function(){return $(!0)},value:z,secureTextEntry:je,placeholder:"Confirm Password*"}),Y&&z!==T?Object(_.jsx)(U,{style:M.alert,children:"Password fields need to match"}):Object(_.jsx)(J,{check:E,input:z}),Object(_.jsx)($e.a,{containerStyle:Ye.phoneContainer,textContainerStyle:Ye.textField,countryPickerButtonStyle:Ye.countryBtn,codeTextStyle:Ye.codeText,disableArrowIcon:!0,defaultCode:"CA",textInputProps:{onChangeText:function(e){C(e.replace(/[^0-9]/g,"").substring(0,15)),be(!1),be(!1)},onBlur:function(){return be(!0)},value:S,style:Ye.phoneInput},placeholder:"Phone Number (optional)"}),Object(_.jsx)((function(){return ue&&S&&!rn?Object(_.jsx)(U,{style:Ye.alert,children:"Invalid phone number"}):15===S.length?Object(_.jsx)(U,{style:Ye.alert,children:"Maximum length reached"}):Object(_.jsx)(_.Fragment,{})}),{}),Object(_.jsx)(q,{style:Ye.btnContainer,children:Object(_.jsx)(ee,{onPress:function(){return R(!0),ae(!0),void(T&&z&&z===T&&s&&k&&f&&r&&ve&&Ne&&Fe&&Ie&&He&&Ze&&en&&rn&&sn())},text:"Sign Up",accessibilityLabel:"Sign Up Button"})})]})})]})}var Ze=t(53);function Ke(e){var n=e.navigation;return _e({redirect:"ifAuthorized"}),Object(_.jsxs)(q,{style:Xe.screen,children:[Object(_.jsx)(U,{style:Xe.title,children:"Welcome to"}),Object(_.jsx)(U,{style:Xe.pigeon,children:"Pigeon"}),Object(_.jsx)(U,{style:Xe.tagline,children:"Don't let your money fly away!"}),Object(_.jsx)(Ze.a,{style:Xe.image,source:t(727)}),Object(_.jsx)(ee,{text:"Sign in",onPress:function(){n.navigate("SignIn")},accessibilityLabel:"Sign In Page"}),Object(_.jsx)(U,{style:Xe.registerCaption,children:"Don't have an account?"}),Object(_.jsx)(ee,{text:"Create an account",onPress:function(){n.navigate("SignUp")},accessibilityLabel:"Sign Up Page"})]})}var Xe=o.a.create({screen:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},title:{fontSize:32,marginHorizontal:25,marginTop:10,textAlign:"center"},pigeon:{fontSize:32,marginHorizontal:25,textAlign:"center",fontWeight:"bold"},tagline:{fontSize:18,marginTop:12,marginHorizontal:25,textAlign:"center",fontWeight:"300"},image:{height:150,width:200,marginVertical:80},registerCaption:{fontWeight:"bold",marginTop:30}}),Qe={prefixes:[t(660).a("/")],config:{screens:{Welcome:"",SignIn:"login",SignUp:"register",Root:{screens:{Home:"home",Expenses:"expenses-list",Reports:"reports",Budget:"budget",Settings:"settings"}},CategorySettings:"category-settings",MerchantSettings:"merchant-settings",CreateCategory:"create-category",EditCategory:"update-category",ExpenseDetails:"expense-details",CreateExpense:"create-expense",UpdateExpense:"update-expense",ForgotPasswordModal:"forgot-password",CreateMerchant:"create-merchant",CreateBudget:"create-budget",EditBudget:"update-budget",UpdateMerchant:"update-merchant",ExpandExpenses:"reports-expand-expense",ExpandBudget:"reports-expand-budget",ExpandWheel:"reports-expand-wheel",ExpandBarCat:"reports-expand-bar-cat",NotFound:"*"}}},en=t(83),nn=t(1021);function tn(e){var n=H.light.btnBackground,t=o.a.create({container:{alignItems:"center",justifyContent:"center",backgroundColor:n,width:e.size,height:e.size,borderRadius:e.size/2}});return Object(_.jsx)(K.a,{onPress:e.onPress,activeOpacity:.85,children:Object(_.jsx)(q,{style:t.container,children:Object(_.jsx)(nn.a,{name:"plus",size:e.size/2,color:"white"})})})}function an(e,n){var t=Object(w.o)();Object(y.useEffect)((function(){t&&e()}),[t].concat(n||[]))}var rn=t(30);function on(e){var n=e.id,t=e.color,a=e.name,i=e.amount,r=e.merchant,l=e.onPress,d=Object(y.useMemo)((function(){return o.a.create({coloredBar:{backgroundColor:t,width:15}})}),[t]);return Object(_.jsx)(rn.a,{style:ln.container,onPress:function(){return l(n)},underlayColor:"rgba(0,0,0,0.2)",children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P.a,{style:d.coloredBar}),Object(_.jsxs)(P.a,{style:ln.contentContainer,children:[Object(_.jsxs)(P.a,{style:ln.content,children:[Object(_.jsx)(z.a,{style:ln.itemName,children:a}),Object(_.jsxs)(z.a,{style:ln.amount,children:["$",i.toFixed(2)]})]}),void 0!==r&&r.length>0&&Object(_.jsx)(P.a,{style:ln.merchantContainer,children:Object(_.jsx)(z.a,{style:ln.merchant,children:r})})]})]})})}var ln=o.a.create({container:{flexDirection:"row"},contentContainer:{alignItems:"center",justifyContent:"center",paddingVertical:20,flex:1,borderTopWidth:1,borderColor:"rgba(0,0,0,0.1)"},content:{width:300,flexDirection:"row",justifyContent:"space-between"},itemName:{fontWeight:"bold",fontSize:22},amount:{fontSize:22},merchantContainer:{width:300,flexDirection:"row",justifyContent:"flex-start"},merchant:{fontSize:16}}),dn=t(1022);function sn(e){return Object(_.jsx)(rn.a,{style:cn.container,onPress:e.onPress,underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsx)(dn.a,{name:"edit-2",size:24,color:e.color||"orange"})})}var cn=o.a.create({container:{width:44,height:44,alignItems:"center",justifyContent:"center",borderRadius:22}});function un(e){if(!e)return"undefined";var n=e.split(" ")[0].split("-"),t=b()(n,3),a=t[0],i=t[1],r=t[2];return["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(i)-1]+" "+r+", "+a}function mn(e){var n,t,a,i=e.navigation,r=e.route.params.expenseId,o=Object(de.a)(pe),l=b()(o,2),d=l[0],s=l[1],c=s.data,u=s.refetch,m=_e({onRetrieved:function(e){return d({variables:{passwordHash:e,expenseId:r}})},redirect:"ifUnauthorized"});an((function(){return u({passwordHash:m,expenseId:r})}),[r]),Object(y.useEffect)((function(){c&&i.setOptions({headerRight:function(){return Object(_.jsx)(sn,{onPress:function(){var e,n,t,a;return i.navigate("UpdateExpense","ExpenseSuccess"===c.expense.__typename?{id:c.expense.expense.id,amount:c.expense.expense.amount,date:c.expense.expense.date,desc:c.expense.expense.description||"",merchant:{id:null==(e=c.expense.expense.merchant)?void 0:e.id,name:null==(n=c.expense.expense.merchant)?void 0:n.name},category:{id:null==(t=c.expense.expense.category)?void 0:t.id,name:null==(a=c.expense.expense.category)?void 0:a.name}}:void 0)}})}})}),[c]);var k,g=null==c?void 0:c.expense.__typename;return Object(_.jsx)(P.a,{style:bn.screen,children:"ExpenseSuccess"===g?Object(_.jsxs)(P.a,{children:[Object(_.jsx)(P.a,{style:bn.colHeader,children:Object(_.jsx)(z.a,{style:bn.amountHeading,children:"Amount"})}),Object(_.jsxs)(P.a,{style:bn.catAndAmount,children:[Object(_.jsxs)(P.a,{style:bn.catColorAndName,children:[Object(_.jsx)(P.a,{style:[bn.catColor,{backgroundColor:null!=c&&c.expense.expense.category?"#"+c.expense.expense.category.colourHex:H.light.uncategorizedColor}]}),Object(_.jsx)(z.a,{style:bn.catName,children:null!=c&&null!=(n=c.expense.expense.category)&&n.name?null==c||null==(t=c.expense.expense.category)?void 0:t.name:"Uncategorized"})]}),Object(_.jsxs)(z.a,{style:bn.amount,children:["$",(k=null==c?void 0:c.expense.expense.amount,k?Number(k).toFixed(2):"0.00")]})]}),Object(_.jsx)(P.a,{style:bn.dateContainer,children:Object(_.jsx)(z.a,{style:bn.date,children:un(null==c?void 0:c.expense.expense.date)})}),Object(_.jsx)(P.a,{style:bn.separator}),Object(_.jsxs)(P.a,{style:bn.merchantContainer,children:[Object(_.jsx)(z.a,{style:bn.merchantLabel,children:"Merchant:"}),Object(_.jsx)(z.a,{style:bn.merchant,children:null!=c&&null!=(a=c.expense.expense.merchant)&&a.name?c.expense.expense.merchant.name:"None"})]}),Object(_.jsx)(P.a,{style:bn.separator}),Object(_.jsxs)(P.a,{style:bn.descContainer,children:[Object(_.jsx)(z.a,{style:bn.descLabel,children:"Details:"}),Object(_.jsx)(z.a,{style:bn.desc,children:null!=c&&c.expense.expense.description?c.expense.expense.description:"None"})]}),Object(_.jsx)(P.a,{style:bn.separator})]}):Object(_.jsx)(z.a,{children:"FailurePayload"===g?null==c?void 0:c.expense.exceptionName:""})})}var bn=o.a.create({screen:{flex:1,backgroundColor:"white"},colHeader:{paddingHorizontal:40,alignItems:"flex-end",marginTop:30},amountHeading:{fontSize:18},catAndAmount:{paddingHorizontal:40,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},catColorAndName:{flexDirection:"row",alignItems:"center"},catColor:{width:15,height:50,marginRight:10},catName:{fontWeight:"600",fontSize:18},amount:{fontWeight:"600",fontSize:18},dateContainer:{paddingHorizontal:40,flexDirection:"row",justifyContent:"flex-end",marginTop:10},date:{fontWeight:"600",fontSize:18},separator:{alignSelf:"center",height:1,width:"80%",backgroundColor:"#444",opacity:.2,marginVertical:20},merchantContainer:{flexDirection:"row",paddingHorizontal:40},merchantLabel:{fontWeight:"600",marginRight:10,fontSize:18},merchant:{fontSize:18},descContainer:{paddingHorizontal:40},descLabel:{fontWeight:"600",fontSize:18,marginBottom:10},desc:{fontSize:18}}),kn=t(19),gn=t.n(kn),jn=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"];function pn(e){var n=e.style,t=e.selected,a=e.text,i=e.onPress;return Object(_.jsx)(K.a,{onPress:i,children:Object(_.jsxs)(P.a,{style:{flexDirection:"row",marginVertical:2},children:[Object(_.jsx)(P.a,{style:[{height:24,width:24,borderRadius:12,borderWidth:2,borderColor:"#000",alignItems:"center",justifyContent:"center"},n],children:t?Object(_.jsx)(P.a,{style:{height:12,width:12,borderRadius:6,backgroundColor:"#000"}}):null}),Object(_.jsx)(z.a,{style:{fontSize:20,marginLeft:10},children:a})]})})}var hn=o.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,width:"90%",height:"90%"},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{fontSize:36,marginBottom:15,textAlign:"center"},typeDivitor:{marginTop:20,marginBottom:8,fontSize:26},monthContainer:{marginLeft:50}}),yn=function(e){var n=e.onApplyFilter,t=e.visible,a=e.onHide,i=Object(y.useState)({date:{},category:[],merchant:[]}),r=b()(i,2),o=r[0],l=r[1],d=Object(y.useState)(t),s=b()(d,2),c=s[0],u=s[1];Object(y.useEffect)((function(){u(t)}),[t]);var m=_e({onRetrieved:function(e){j(),O(),T()},redirect:"ifUnauthorized"});an((function(){v(),C(),H()}));var k=Object(de.a)(ue,{variables:{passwordHash:m}}),g=b()(k,2),j=g[0],p=g[1],h=p.data,v=p.refetch,f=Object(de.a)(fe,{variables:{passwordHash:m}}),x=b()(f,2),O=x[0],N=x[1],S=N.data,C=N.refetch,w=Object(de.a)(Be,{variables:{passwordHash:m}}),F=b()(w,2),T=F[0],I=F[1],B=I.data,H=I.refetch;function M(e,n){var t=gn()(o[n]),a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e);var i=JSON.parse(JSON.stringify(o));i[n]=t,l(i)}var A=Object(y.useMemo)((function(){var e={};return"MonthsTotals"==(null==B?void 0:B.monthsTotals.__typename)&&B.monthsTotals.byMonth.forEach((function(n){n.year in e||(e[n.year]=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])})),e}),[B]);return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P.a,{style:hn.centeredView,children:Object(_.jsx)(D.a,{animationType:"slide",transparent:!0,visible:c,onRequestClose:function(){Je.a.alert("Modal has been closed."),u(!c)},children:Object(_.jsx)(P.a,{style:hn.centeredView,children:Object(_.jsxs)(P.a,{style:hn.modalView,children:[Object(_.jsxs)(P.a,{style:{width:"100%",flexDirection:"row",justifyContent:"space-between"},children:[Object(_.jsx)(z.a,{style:hn.modalText,children:"Filters"}),Object(_.jsx)(P.a,{})]}),Object(_.jsxs)(V.a,{style:{width:"100%"},children:[Object(_.jsxs)(P.a,{style:{width:"100%"},children:[Object(_.jsx)(z.a,{style:hn.typeDivitor,children:"Date"}),Object.keys(A).map((function(e,n){var t=e in o.date;return Object(_.jsxs)(P.a,{children:[Object(_.jsx)(pn,{selected:t,text:e,onPress:function(){return function(e){e.toString();var n=JSON.parse(JSON.stringify(o.date));e in o.date?delete n[e]:n[e]=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var t=JSON.parse(JSON.stringify(o));t.date=n,l(t)}(e.toString())}}),t&&Object(_.jsx)(P.a,{style:hn.monthContainer,children:A[e].map((function(n,t){var a=o.date[e].find((function(e){return e==n}));return Object(_.jsx)(pn,{selected:a,text:n,onPress:function(){return function(e,n){var t=JSON.parse(JSON.stringify(o.date)),a=o.date[e].findIndex((function(e){return e==n}));-1!=a?(t[e].splice(a,1),0==t[e].length&&delete t[e]):t[e].push(n);var i=JSON.parse(JSON.stringify(o));i.date=t,l(i)}(e.toString(),n)}},t)}))})]},n)})),Object(_.jsx)(z.a,{style:hn.typeDivitor,children:"Merchant"}),"MerchantsSuccess"==(null==S?void 0:S.merchants.__typename)&&S.merchants.merchants.map((function(e,n){var t=-1!==o.merchant.findIndex((function(n){return n===e.name}));return Object(_.jsx)(pn,{selected:t,text:e.name,onPress:function(){return M(e.name,"merchant")}},n)})),Object(_.jsx)(z.a,{style:hn.typeDivitor,children:"Category"}),"CategoriesSuccess"==(null==h?void 0:h.categories.__typename)&&h.categories.categories.map((function(e,n){var t=-1!==o.category.findIndex((function(n){return n===e.name}));return Object(_.jsx)(pn,{selected:t,text:e.name,onPress:function(){return M(e.name,"category")}},n)}))]}),Object(_.jsx)(P.a,{style:{height:30}})]}),Object(_.jsx)(ee,{text:"Save Filter",onPress:function(){a&&a(),u(!1),n(o)}})]})})})})})};function vn(e){return Object(_.jsx)(rn.a,{style:fn.container,onPress:e.onPress,underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsx)(dn.a,{name:"filter",size:24,color:"black"})})}var fn=o.a.create({container:{width:44,height:44,alignItems:"center",justifyContent:"center",borderRadius:22}}),xn=["date"];function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Sn(e){var n=e.item;return"string"===typeof n?Object(_.jsx)(P.a,{style:Fn.dateContainer,children:Object(_.jsx)(z.a,{style:Fn.date,children:un(n)})}):Object(_.jsx)(on,Nn({},n))}function Cn(e){return"string"===typeof e?e:e.id.toString()}function wn(e){var n=e.navigation,t=Object(de.a)(je,{fetchPolicy:"no-cache"}),a=b()(t,2),i=a[0],r=a[1],o=r.data,l=r.refetch,d=_e({onRetrieved:function(e){return i({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});an((function(){return l({passwordHash:d})}));var s=Object(y.useState)({date:{},category:[],merchant:[]}),c=b()(s,2),u=c[0],m=c[1],k=Object(y.useState)(!1),g=b()(k,2),j=g[0],p=g[1];Object(y.useEffect)((function(){n.setOptions({headerRight:function(){return Object(_.jsx)(P.a,{style:Fn.filterBtnContainer,children:Object(_.jsx)(vn,{onPress:function(){return p(!0)}})})}})}),[]);var h=Object(y.useMemo)((function(){return"ExpensesSuccess"===(null==o?void 0:o.expenses.__typename)?function(e,n){if(0===e.length)return[];for(var t=e.map((function(e){var t,a,i;return{id:e.id,name:(null==(t=e.category)?void 0:t.name)||"Uncategorized",color:"#"+((null==(a=e.category)?void 0:a.colourHex)||H.light.uncategorizedColor),amount:e.amount,onPress:n,date:e.date.split(" ")[0],merchant:(null==(i=e.merchant)?void 0:i.name)||""}})).sort((function(e,n){return e.date>n.date?-1:1})),a=[],i=t.length-1;i>=0;i--){var r=t[i],o=(r.date,B()(r,xn));a.unshift(Nn({},o)),0!==i&&t[i].date===t[i-1].date||a.unshift(""+t[i].date)}return a}(function(e,n){return e.filter((function(e){return 0==n.merchant.length||-1!=n.merchant.findIndex((function(n){var t;return n==(null==(t=e.merchant)?void 0:t.name)}))})).filter((function(e){return 0==n.category.length||-1!=n.category.findIndex((function(n){var t;return n==(null==(t=e.category)?void 0:t.name)}))})).filter((function(e){if(0==Object.keys(n.date).length)return!0;var t=e.date.split("-")[0],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(e.date.split("-")[1])-1];return t in n.date&&-1!=n.date[t].findIndex((function(e){return e==a}))}))}(o.expenses.expenses,u),(function(e){return n.navigate("ExpenseDetails",{expenseId:e})})):[]}),[o,u]);return void 0===o?Object(_.jsx)(P.a,{style:Fn.screen,children:Object(_.jsx)(z.a,{children:"Loading data..."})}):"ExpensesSuccess"!==o.expenses.__typename?Object(_.jsx)(P.a,{style:Fn.screen,children:Object(_.jsx)(z.a,{children:"Error fetching data."})}):Object(_.jsxs)(P.a,{style:Fn.screen,children:[Object(_.jsx)(yn,{onApplyFilter:m,visible:j,onHide:function(){return p(!1)}}),Object(_.jsx)(_.Fragment,{children:0===h.length&&Object(_.jsx)(z.a,{style:Fn.noExpensesText,children:"You have no expenses. Press the '+' button to add one!"})}),Object(_.jsx)(en.a,{data:h,renderItem:Sn,keyExtractor:Cn,maxToRenderPerBatch:30}),Object(_.jsx)(P.a,{style:Fn.addExpenseBtn,children:Object(_.jsx)(tn,{size:80,onPress:function(){return n.navigate("CreateExpense")}})})]})}var Fn=o.a.create({screen:{flex:1,backgroundColor:"white"},filterBtnContainer:{paddingRight:10},itemSeparator:{flex:1,flexBasis:2,backgroundColor:"#c9c9c9"},noExpensesText:{alignSelf:"center",fontSize:15,width:300,marginTop:20},addExpenseBtn:{position:"absolute",right:15,bottom:15},dateContainer:{paddingTop:20,paddingBottom:10,width:350,alignSelf:"center"},date:{fontSize:18},filterButton:{position:"absolute",right:15,top:0,zIndex:10}}),Tn=t(1035),Dn=t(1049),Vn=t(1050),In=t(1036);function Bn(e){var n=e.planned,t=e.actualBudgeted,a=e.actualUnbudgeted,i=e.height,r=e.width;return Object(_.jsx)(P.a,{style:{justifyContent:"center",alignItems:"center"},children:Object(_.jsxs)(Tn.a,{width:r||360,height:i||200,domainPadding:70,padding:{top:0,bottom:30,left:50,right:50},children:[Object(_.jsx)(Dn.a,{crossAxis:!0}),Object(_.jsxs)(Vn.a,{colorScale:["#aa3377","#e0b4cd"],children:[Object(_.jsx)(In.a,{categories:{x:["Total Budgeted","Total Spent"]},data:[{x:"Total Budgeted",y:n,label:"$"+n.toFixed(2),fill:"#4477aa"},{x:"Total Spent",y:t,fill:"#aa3377"}],style:{data:{fill:function(e){return e.datum.fill}}},width:200,barWidth:50}),Object(_.jsx)(In.a,{categories:{x:["Total Budgeted","Total Spent"]},data:[{x:"Total Budgeted",y:0},{x:"Total Spent",y:a,label:"$"+(t+a).toFixed(2)}],width:200,barWidth:50})]})]})})}var zn=function(e){var n=e.data,t=e.title,a=e.renderItem,i=e.ItemSeparatorComponent,r=n.map((function(e,n){return Object(_.jsxs)(P.a,{children:[0!=n&&i&&i(),a({item:e})]},n)}));return Object(_.jsxs)(P.a,{children:[t&&Object(_.jsx)(z.a,{children:t}),r]})};function Pn(e){var n=e.label;return n?Object(_.jsx)(q,{style:Mn.warningRow,children:Object(_.jsx)(q,{style:Mn.warningContainer,children:Object(_.jsx)(U,{style:Mn.warningText,children:n})})}):null}function Hn(e){var n=e.category,t=e.color,a=e.planned,i=e.actual,r=e.onPressDots,l=e.topBorder,d=e.bottomBorder,s=o.a.create({container:{flexDirection:"row",borderTopWidth:l?1:0,borderBottomWidth:d?1:0,borderColor:"rgba(0,0,0,0.1)"},coloredBar:{backgroundColor:t,width:10}}),c=i>a,u=!c&&i>.75*a,m=i===a;return Object(_.jsxs)(q,{style:s.container,children:[Object(_.jsx)(q,{style:s.coloredBar}),Object(_.jsx)(q,{style:Mn.contentContainer,children:Object(_.jsxs)(q,{style:Mn.content,children:[Object(_.jsxs)(q,{style:Mn.header,children:[Object(_.jsx)(U,{style:Mn.headerText,children:n}),Object(_.jsx)(sn,{onPress:r,color:"black"})]}),Object(_.jsx)(Pn,{label:(m?"At Budget":c&&"Over Budget")||u&&"Near Budget"||void 0}),Object(_.jsxs)(q,{style:Mn.body,children:[Object(_.jsxs)(q,{style:Mn.amntDisplayContainer,children:[Object(_.jsx)(q,{style:Mn.amntTitleContainer,children:Object(_.jsx)(U,{style:Mn.amntTitle,children:"Budgeted"})}),Object(_.jsxs)(U,{style:Mn.amntText,children:["$",a]})]}),Object(_.jsxs)(q,{style:Mn.amntDisplayContainer,children:[Object(_.jsx)(q,{style:Mn.amntTitleContainer,children:Object(_.jsx)(U,{style:Mn.amntTitle,children:"Spent"})}),Object(_.jsxs)(U,{style:Mn.amntText,children:["$",i]})]})]})]})})]})}var Mn=o.a.create({contentContainer:{flex:1,justifyContent:"center",alignItems:"center"},content:{width:300,paddingTop:20,paddingBottom:30},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},headerText:{fontWeight:"bold",fontSize:25},iconContainer:{height:40,width:40,borderRadius:20,justifyContent:"center",alignItems:"center"},warningRow:{paddingTop:8},warningContainer:{borderRadius:20,backgroundColor:"rgb(191, 0, 0)",padding:7,width:110,alignItems:"center"},warningText:{color:"white"},body:{flexDirection:"row",justifyContent:"space-between",marginTop:15},amntDisplayContainer:{width:120,borderWidth:1,borderColor:"black",paddingLeft:20,justifyContent:"center",paddingVertical:12},amntText:{fontSize:20},amntTitleContainer:{backgroundColor:"white",paddingHorizontal:3,position:"absolute",top:-10,left:10},amntTitle:{fontSize:15}});function _n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function An(e){var n=e.data,t=e.monthlyData,a=e.updateCallback,i=function(e){var n="MonthBreakdown"==(null==t?void 0:t.monthBreakdown.__typename)?t.monthBreakdown.byCategory.find((function(n){var t;return(null==(t=n.category)?void 0:t.name)==e.category.name})):void 0,i=n?n.amountSpent:0;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Hn,{planned:parseInt(e.amount.toFixed(2)),actual:parseInt(i.toFixed(2)),category:e.category.name,color:"#"+e.category.colourHex,onPressDots:function(){return a(e)}}),Object(_.jsx)(P.a,{style:En.itemSeparator})]})};return Object(_.jsx)(P.a,{children:Object(_.jsx)(zn,{data:n||[],renderItem:function(e){var n=e.item;return Object(_.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_n(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n))}})})}var En=o.a.create({itemSeparator:{height:1,backgroundColor:"rgba(0,0,0,0.2)"}}),Rn=t(9),Wn=t.n(Rn);function Ln(e){var n=e.direction,t=e.onPress,a=e.marginLeft,i=e.marginRight;return Object(_.jsx)(rn.a,{onPress:t,style:{alignItems:"center",justifyContent:"center",marginLeft:a,marginRight:i,width:50,height:50,borderRadius:25},underlayColor:"rgba(0,0,0,0.2)",children:Object(_.jsx)(nn.a,{name:n,size:32,color:"black"})})}function Un(e){var n=e.navigation,t=(e.route,Wn()()),a=Object(y.useState)(jn[t.month()]),i=b()(a,2),r=i[0],o=i[1],l=Object(y.useState)(t.year()),d=b()(l,2),s=d[0],c=d[1],u=s>t.year()||s===t.year()&&jn.indexOf(r)>=t.month();Object(y.useEffect)((function(){return n.addListener("tabPress",(function(){o(jn[t.month()]),c(t.year())}))}),[]);var m=Object(de.a)(Oe),k=b()(m,2),g=k[0],j=k[1],p=j.data,h=j.refetch,v=Object(de.a)(Te),f=b()(v,2),x=f[0],O=f[1],N=O.data,S=O.refetch,C=_e({onRetrieved:function(e){g({variables:{passwordHash:e}}),x({variables:{passwordHash:e,month:r,year:s}})},redirect:"ifUnauthorized"});an((function(){h({passwordHash:C}),S({passwordHash:C,month:r,year:s})}),[r,s]);var w=Object(qe.a)(Ne,{variables:{passwordHash:C,month:r,year:s}}),F=b()(w,1)[0],T=Object(qe.a)(Se),D=b()(T,1)[0],I=Object(qe.a)(De),B=b()(I,1)[0],H=Object(y.useMemo)((function(){if("BudgetsSuccess"==(null==p?void 0:p.budgets.__typename))return p.budgets.budgets.find((function(e){return e.month==r&&e.year==s}))}),[r,s,p]),M=Object(y.useMemo)((function(){if("BudgetsSuccess"===(null==p?void 0:p.budgets.__typename))for(var e=p.budgets.budgets.slice().sort((function(e,n){return e.year>n.year?1:e.year<n.year?-1:jn.indexOf(e.month)>jn.indexOf(n.month)?1:jn.indexOf(e.month)<jn.indexOf(n.month)?-1:0})).filter((function(e){return e.budgetCategories&&e.budgetCategories.length>0})),n=e.length-1;n>=0;n--)if(e[n].year<s||e[n].year===s&&jn.indexOf(e[n].month)<jn.indexOf(r))return e[n]}),[r,s,p]),A=Object(y.useMemo)((function(){var e;if(void 0!==H)return null==(e=H.budgetCategories)?void 0:e.reduce((function(e,n){return e+n.amount}),0)}),[r,s,p]),E=Object(y.useMemo)((function(){if(void 0!==H&&"MonthBreakdown"===(null==N?void 0:N.monthBreakdown.__typename)){var e={budgeted:0,unbudgeted:0};return N.monthBreakdown.byCategory.filter((function(e){var n;return!(!e.category||!H.budgetCategories)&&!(null==(n=H.budgetCategories)||!n.find((function(n){var t;return n.category.name===(null==(t=e.category)?void 0:t.name)})))})).forEach((function(n){e.budgeted+=n.amountSpent})),N.monthBreakdown.byCategory.forEach((function(n){e.unbudgeted+=n.amountSpent})),e.unbudgeted=e.unbudgeted-e.budgeted,e}}),[r,s,N,H]),R=jn,W=function(){0===R.indexOf(r)?(o(R[R.length-1]),c((function(e){return e-1}))):o((function(e){return R[R.indexOf(e)-1]}))},L=function(){R.indexOf(r)===R.length-1?(o(R[0]),c((function(e){return e+1}))):o((function(e){return R[R.indexOf(e)+1]}))};function U(){H?n.navigate("CreateBudget",{budget:H}):F({onError:function(e){alert(e.message)},onCompleted:function(e){"BudgetSuccess"==e.createBudget.__typename&&n.navigate("CreateBudget",{budget:e.createBudget.budget})}})}return Object(y.useEffect)((function(){n.setOptions({headerTitle:r+" "+s,headerBackVisible:!1,headerLeft:function(){return Object(_.jsx)(Ln,{direction:"left",marginLeft:10,onPress:W})},headerRight:function(){return Object(_.jsx)(Ln,{direction:"right",marginRight:10,onPress:L})}})}),[r]),Object(_.jsxs)(P.a,{style:qn.screen,children:[Object(_.jsx)(Bn,{planned:A||0,actualBudgeted:(null==E?void 0:E.budgeted)||0,actualUnbudgeted:(null==E?void 0:E.unbudgeted)||0}),Object(_.jsx)(_.Fragment,{children:E&&E.unbudgeted>0&&Object(_.jsxs)(P.a,{style:qn.warningContainer,children:[Object(_.jsx)(dn.a,{name:"info",size:21,color:"red",style:qn.warningIcon}),Object(_.jsxs)(z.a,{style:qn.warningText,children:["$",null==E?void 0:E.unbudgeted.toFixed(2)," of expenses ",u?"are":"were"," unplanned."]})]})}),H&&H.budgetCategories&&H.budgetCategories.length>0&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P.a,{style:{alignSelf:"center",marginBottom:20},children:u&&Object(_.jsx)(ee,{text:"Add Budget",onPress:U})}),Object(_.jsx)(P.a,{style:qn.itemSeparator}),Object(_.jsx)(V.a,{children:Object(_.jsx)(rn.a,{children:Object(_.jsx)(An,{data:H.budgetCategories,monthlyData:N,updateCallback:function(e){n.navigate("EditBudget",{budgetCategory:e})}})})})]})||Object(_.jsxs)(P.a,{style:{alignItems:"center",flex:1,paddingTop:70},children:[u&&Object(_.jsx)(ee,{text:"Add Budget",onPress:U}),M&&u&&Object(_.jsx)(ee,{text:"Use Previous Budget",onPress:function(){var e;M&&(H?null==M||null==(e=M.budgetCategories)||e.forEach((function(e){D({variables:{passwordHash:C,amount:e.amount,budgetId:H.id,categoryId:e.category.id},onCompleted:function(){h()}})})):B({variables:{passwordHash:C,month:r,year:s,id:M.id},onCompleted:function(){h()}}))}})]})]})}var qn=o.a.create({screen:{flex:1,backgroundColor:"white"},itemSeparator:{height:1,backgroundColor:"rgba(0,0,0,0.2)"},warningContainer:{alignItems:"center",paddingTop:8,paddingBottom:10,justifyContent:"center",flexDirection:"row"},warningIcon:{marginRight:8},warningText:{color:"red",fontSize:18,fontWeight:"700"}}),Jn=t(663),Yn=t(1045),$n=t(1040),Gn=18,Zn=15,Kn=15,Xn=18;function Qn(e){var n=e.color,t=e.size,a=Object(y.useMemo)((function(){return{backgroundColor:"plus"===n?"black":n,width:t,height:t,borderRadius:t/2,borderWidth:.5,alignItems:"center",justifyContent:"center"}}),[n,t]);return"plus"===n?Object(_.jsx)(P.a,{style:a,children:Object(_.jsx)(nn.a,{name:"plus",size:t/2,color:"white"})}):Object(_.jsx)(P.a,{style:a})}function et(e){var n=e.item,t=e.onPress,a=n.id,i=n.value,r=n.color,o=Object(y.useMemo)((function(){return[tt.itemValue,{paddingLeft:r?20:80}]}),[r]);return Object(_.jsx)(rn.a,{style:tt.container,onPress:function(){return t(a,i)},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(P.a,{style:tt.content,children:[r&&Object(_.jsx)(P.a,{style:{marginLeft:40},children:Object(_.jsx)(Qn,{color:r,size:20})}),Object(_.jsx)(z.a,{style:o,children:i})]})},a)}function nt(e){var n=Object(y.useState)(!1),t=b()(n,2),a=t[0],i=t[1],o=Object(y.useRef)(null),l=Object(y.useRef)(null),d=Object(y.useState)(e.defaultValue||""),s=b()(d,2),c=s[0],u=s[1],m=Object(y.useState)(e.defaultValue||e.cachedValue||""),k=b()(m,2),g=k[0],j=k[1],p=Object(y.useMemo)((function(){return e.data.filter((function(e){return e.value.toLowerCase().startsWith(c.toLowerCase())}))}),[e.data,c]),h=a?"rgba(0,0,0,0.1)":"white",v=Object(y.useMemo)((function(){return[tt.container,{backgroundColor:h,zIndex:-1,elevation:-1}]}),[h]),f=Object(y.useState)(0),x=b()(f,2),O=x[0],N=x[1],S=Object(y.useState)(0),C=b()(S,2),w=C[0],F=C[1],D=O-w-("android"===r.a.OS?25:0),I=Object(y.useState)(""),B=b()(I,2),H=B[0],M=B[1];Object(y.useEffect)((function(){return console.log("scroll view height: "+D)}),[D]),Object(y.useEffect)((function(){return T.a.addListener("keyboardDidShow",(function(e){N(e.endCoordinates.screenY)})),T.a.addListener("keyboardDidHide",(function(e){N(e.endCoordinates.screenY)})),function(){T.a.removeAllListeners("keyboardDidShow"),T.a.removeAllListeners("keyboardDidHide")}}),[]),Object(y.useEffect)((function(){j(e.cachedValue||""),a||u(e.cachedValue||"")}),[e.cachedValue]),Object(y.useEffect)((function(){e.required&&e.check&&!g&&M("This field is required.")}),[e.check]),Object(y.useEffect)((function(){var n;a?(e.onFocus&&e.onFocus(),null==(n=o.current)||n.focus(),u("")):(u(g),e.required&&!g?M("This field is required."):M(""))}),[a]),an((function(){M("")}));var A=function(n,t){e.onChange(n),j(t),i(!1)};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(rn.a,{style:v,onPress:function(){var e;i(!0),null==(e=l.current)||e.measureInWindow((function(e,n){F(n)}))},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(P.a,{style:tt.content,children:[Object(_.jsx)(z.a,{style:tt.label,children:e.label}),Object(_.jsx)(te.a,{style:tt.input,placeholderTextColor:"grey",placeholder:a?"start typing to search":e.placeholder,editable:a,ref:o,onBlur:function(){return i(!1)},value:c,onChangeText:u,pointerEvents:"none"}),Object(_.jsx)(rn.a,{style:tt.arrowIconContainer,underlayColor:"rgba(0,0,0,0.1)",onPress:function(){var e;a||(null==(e=l.current)||e.measureInWindow((function(e,n){F(n)})));i((function(e){return!e}))},children:Object(_.jsx)(nn.a,{name:a?"up":"down",size:20,color:"black"})})]}),H.length>0&&!a&&Object(_.jsx)(z.a,{style:tt.error,children:H})]})}),Object(_.jsx)(P.a,{ref:l,onLayout:function(){var e;return null==(e=l.current)?void 0:e.measureInWindow((function(e,n){return F(n)}))}}),Object(_.jsx)(P.a,{children:a&&Object(_.jsxs)(V.a,{style:[tt.scrollView,{maxHeight:e.disableScroll?1e3:D}],keyboardShouldPersistTaps:"always",nestedScrollEnabled:!0,children:[p.map((function(e){return Object(_.jsx)(et,{item:e,onPress:A},e.id)})).sort((function(e,n){return e.props.item.value>n.props.item.value?1:-1})),e.onCreateNew&&Object(_.jsx)(et,{item:{id:"new",value:c?'Add "'+c+'"':"Create new "+(e.labelForCreateNew||e.label.toLowerCase()),color:"plus"},onPress:function(){e.onCreateNew&&e.onCreateNew(c),j(c),i(!1)}})]})})]})}var tt=o.a.create({container:{borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)",paddingVertical:Zn,alignItems:"center"},content:{width:320,flexDirection:"row",alignItems:"center"},label:{fontSize:Gn,fontWeight:"bold",width:100,textAlign:"right",paddingRight:Kn},input:{width:190,fontSize:Gn,color:"black",marginRight:10},itemValue:{fontSize:Gn,fontWeight:"600",paddingVertical:3},arrowIconContainer:{width:30,height:30,borderRadius:15,alignItems:"center",justifyContent:"center"},scrollView:{position:"absolute",width:"100%",backgroundColor:"white",zIndex:1,elevation:1,top:0,left:0},error:{paddingTop:10,color:"red",alignSelf:"center",fontSize:Xn}});function at(e,n){var t=e.categoryData,a=e.month,i=e.year,r=e.onChangeCategory,o=(n.navigation,_e()),l=Object(y.useState)(),d=b()(l,2),s=d[0],c=d[1],u=Object(y.useState)(""),m=b()(u,2),k=(m[0],m[1],Object(Jn.b)(ue,{variables:{passwordHash:o},onError:function(e){Je.a.alert(e.message)}})),g=k.data;k.refetch;Object(y.useEffect)((function(){c(void 0)}),[a]),Object(y.useEffect)((function(){r&&r(s)}),[s]);var j=Object(y.useMemo)((function(){return t.slice().filter((function(e){return!!e.category&&e.amountSpent>0}))}),[t]),p=Object(y.useMemo)((function(){return t.find((function(e){return null===e.category&&0!==e.amountSpent}))}),[t]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(P.a,{style:it.graphContainer,children:[Object(_.jsxs)(P.a,{style:{position:"absolute",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:[Object(_.jsx)(z.a,{children:i}),Object(_.jsx)(z.a,{children:a})]}),Object(_.jsx)(Yn.a,{padAngle:2,labelRadius:130,radius:function(e){return e.datum.category.name===(null==s?void 0:s.name)?120:100},innerRadius:function(e){return e.datum.category.name===(null==s?void 0:s.name)?90:70},data:t.map((function(e){return null===e.category?{amountSpent:e.amountSpent,category:{id:-1,name:"Uncategorized",colourHex:"757575"}}:e})).filter((function(e){return 0!=e.amountSpent})),labels:function(e){var n=e.datum;return n.category.name===(null==s?void 0:s.name)?"$"+n.amountSpent.toFixed(2):n.category.name.substring(0,7)+"..."},y:"amountSpent",width:900,height:300,style:{data:{fill:function(e){return"#"+e.datum.category.colourHex}}},events:[{target:"data",eventHandlers:{onPressIn:function(){return[{target:"data",mutation:function(e){c({id:e.datum.category.id,name:e.datum.category.name})}}]},onClick:function(){return[{target:"data",mutation:function(e){c({id:e.datum.category.id,name:e.datum.category.name})}}]}}},{target:"parent",eventHandlers:{onPress:function(){return[{target:"data",callback:function(){T.a.dismiss()}}]}}}]})]}),0!==t.length&&Object(_.jsx)(P.a,{style:{alignItems:"center",marginBottom:15,marginTop:25},children:Object(_.jsx)($n.a,{width:320,orientation:"horizontal",colorScale:t.map((function(e){return e.category?"#"+e.category.colourHex:"gray"})),data:t.filter((function(e){return 0!=e.amountSpent})).map((function(e){return null===e.category?{name:"Uncategorized",symbol:{fill:"#757575"}}:{name:null==(n=e.category)?void 0:n.name,symbol:{fill:"#"+(null==(t=e.category)?void 0:t.colourHex)}};var n,t})),itemsPerRow:2,gutter:20,height:t.filter((function(e){return 0!=e.amountSpent})).length/2*40,events:[{target:"parent",eventHandlers:{onPress:function(){return[{target:"parent",callback:function(){T.a.dismiss()}}]}}}]})}),Object(_.jsx)(P.a,{style:it.dropdownContainer,children:Object(_.jsx)(nt,{label:"Category",placeholder:"choose a category",data:p?[].concat(gn()(j.map((function(e){var n,t;return{id:(null==(n=e.category)?void 0:n.id.toString())||"-2",value:(null==(t=e.category)?void 0:t.name)||""}}))),[{id:"-1",value:"Uncategorized"}]):gn()(j.map((function(e){var n,t;return{id:(null==(n=e.category)?void 0:n.id.toString())||"-2",value:(null==(t=e.category)?void 0:t.name)||""}}))),onChange:function(e){if("-1"===e&&c({id:-1,name:"Uncategorized"}),"CategoriesSuccess"==(null==g?void 0:g.categories.__typename)){var n=g.categories.categories.find((function(n){return n.id.toString()==e}));void 0!==n&&c(n)}},cachedValue:null==s?void 0:s.name,disableScroll:!0})})]})}var it=o.a.create({graphContainer:{alignItems:"center",marginTop:20},dropdownContainer:{marginBottom:20,zIndex:1,elevation:1}}),rt=t(1051),ot=t(1039);function lt(e){return Object(_.jsx)(rn.a,{onPress:e.onPress,style:{alignItems:"center",justifyContent:"center",marginLeft:e.marginLeft,marginRight:e.marginRight,width:e.size,height:e.size,borderRadius:e.size/2},underlayColor:"rgba(0,0,0,0.2)",children:Object(_.jsx)(nn.a,{name:e.direction,size:e.size/2,color:"black"})})}function dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dt(Object(t),!0).forEach((function(n){u()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ct=function(e){var n=e.data,t=e.onPressLeft,a=e.onPressRight,i=n.map((function(e,n){return st(st({},e),{},{id:n,shortCat:e.category.name.substring(0,5)+"..",amountUnplanned:0===e.amountBudgeted?e.amountSpent:0,amountPlanned:0!==e.amountBudgeted?e.amountSpent:0,zero:0})})),r=Object(y.useState)(100),o=b()(r,2),l=o[0],d=o[1];return Object(y.useEffect)((function(){d(0),setTimeout((function(){return d(void 0)}),100)}),[n]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(Tn.a,{children:[Object(_.jsx)(Dn.a,{style:{grid:{stroke:"none"}}}),Object(_.jsxs)(rt.a,{offset:20,children:[Object(_.jsxs)(Vn.a,{colorScale:["#4477aa","#4477aa"],labelComponent:Object(_.jsx)(ot.a,{y:l,dx:-20}),children:[Object(_.jsx)(In.a,{categories:{x:i.map((function(e){return e.shortCat}))},barWidth:20,data:i.map((function(e){return{x:e.shortCat,y:e.amountBudgeted,label:e.amountBudgeted?"$"+e.amountBudgeted.toFixed(2):null}}))}),Object(_.jsx)(In.a,{categories:{x:i.map((function(e){return e.shortCat}))},barWidth:20,data:i.map((function(e){return{x:e.shortCat,y:e.zero}}))})]}),Object(_.jsxs)(Vn.a,{colorScale:["#aa3377","#e0b4cd"],labelComponent:Object(_.jsx)(ot.a,{y:l,dx:20}),children:[Object(_.jsx)(In.a,{categories:{x:i.map((function(e){return e.shortCat}))},name:"bar-1",barWidth:20,data:i.map((function(e){return{x:e.shortCat,y:e.amountPlanned}}))}),Object(_.jsx)(In.a,{categories:{x:i.map((function(e){return e.shortCat}))},name:"bar-2",barWidth:20,data:i.map((function(e){return{x:e.shortCat,y:e.amountUnplanned,label:e.amountSpent?"$"+e.amountSpent.toFixed(2):null}}))})]})]})]}),Object(_.jsx)(P.a,{style:ut.leftSliderContainer,children:Object(_.jsx)(lt,{direction:"left",size:40,onPress:t})}),Object(_.jsx)(P.a,{style:ut.rightSliderContainer,children:Object(_.jsx)(lt,{direction:"right",size:40,onPress:a})}),Object(_.jsx)(P.a,{style:{alignItems:"center",marginBottom:20},children:Object(_.jsx)($n.a,{height:55,colorScale:["#4477aa","#aa3377","#e0b4cd"],data:[{name:"Budgeted"},{name:"Planned Expenses"},{name:"Unplanned Expenses"}],width:320,orientation:"horizontal",itemsPerRow:2,padding:20,gutter:0})})]})},ut=o.a.create({leftSliderContainer:{position:"absolute",top:245,left:8},rightSliderContainer:{position:"absolute",top:245,right:8}}),mt=function(e){var n=e.displayAmount,t=e.jumpAmount,a=e.data,i=e.budgetReferenceData,r=n||5,o=t||3,l=a.map((function(e,n){var t,a,r=null==(t=e.category)?void 0:t.name,o=null==i||null==(a=i.budgetCategories)?void 0:a.find((function(e){return e.category.name==r}));return{amountSpent:e.amountSpent,category:e.category?e.category:{colourHex:"gray",name:"Uncategorized"},index:n,amountBudgeted:o?o.amount:0}})),d=Object(y.useState)(l.length-r),s=b()(d,2),c=s[0],u=s[1];Object(y.useEffect)((function(){u(l.length-r)}),[a]);l.length;return Object(_.jsx)(P.a,{children:Object(_.jsx)(P.a,{style:{flexDirection:"row",width:"100%"},children:Object(_.jsx)(P.a,{style:{flex:1,flexGrow:1,alignItems:"center",justifyContent:"center"},children:Object(_.jsx)(P.a,{children:Object(_.jsx)(ct,{data:l.length<=r?l:c+r>l.length?l.slice(c).concat(l.slice(0,c+r-l.length)):l.slice(c,c+r),onPressLeft:function(){var e=c-o;u(e<0?e+l.length:e)},onPressRight:function(){u((c+o)%l.length)}})})})})})};function bt(e){return Object(_.jsxs)(P.a,{style:kt.container,children:[Object(_.jsx)(z.a,{style:kt.title,children:e.title}),Object(_.jsx)(P.a,{style:kt.graphContainer,children:e.graph}),e.onViewDetails&&Object(_.jsx)(P.a,{style:kt.btnContainer,children:Object(_.jsx)(ee,{text:"View More Details",onPress:e.onViewDetails})})]})}var kt=o.a.create({container:{paddingTop:40,borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)",alignItems:"center"},title:{fontWeight:"bold",fontSize:22,maxWidth:350},graphContainer:{alignItems:"center"},btnContainer:{marginBottom:30,zIndex:-1,elevation:-1}});function gt(e){return jn.indexOf(e)<3?5:jn.indexOf(e)>8?12:jn.indexOf(e)+3}function jt(e){var n=Object(y.useState)(gt(e.month)),t=b()(n,2),a=t[0],i=t[1],r=Object(y.useMemo)((function(){for(var n=0,t=0;t<e.data.length;t++)e.data[t].amount>n&&(n=e.data[t].amount);return n}),[e.data]),o=Object(y.useMemo)((function(){return jn.map((function(n){var t;return{month:n,amount:(null==(t=e.data.find((function(e){return e.month===n})))?void 0:t.amount)||0}}))}),[e.data]),l=Object(y.useMemo)((function(){return o.slice(a-5,a)}),[o,a]),d=Object(y.useMemo)((function(){return l.map((function(e){return{month:e.month,amount:r-e.amount}}))}),[l]);Object(y.useEffect)((function(){i(gt(e.month))}),[e.month]);var s=Object(y.useCallback)((function(){i((function(e){return e<12?e+1:e}))}),[]),c=Object(y.useCallback)((function(){i((function(e){return e>5?e-1:e}))}),[]);return Object(_.jsxs)(P.a,{children:[Object(_.jsxs)(Tn.a,{domainPadding:{x:20},children:[Object(_.jsx)(Dn.a,{crossAxis:!0}),Object(_.jsxs)(Vn.a,{colorScale:["black","rgba(0,0,0,0)"],children:[Object(_.jsx)(In.a,{data:l,x:function(e){return e.month.slice(0,3)},y:function(e){return e.amount},labels:function(e){var n=e.datum;return n.amount>0?n.amount.toFixed(2):null},style:{data:{fill:"#aa3377"}},barRatio:.7}),Object(_.jsx)(In.a,{data:d,x:function(e){return e.month.slice(0,3)},y:function(e){return e.amount},barRatio:.7})]})]}),a>5&&Object(_.jsx)(P.a,{style:pt.leftSliderContainer,children:Object(_.jsx)(lt,{direction:"left",size:40,onPress:c})}),a<12&&Object(_.jsx)(P.a,{style:pt.rightSliderContainer,children:Object(_.jsx)(lt,{direction:"right",size:40,onPress:s})})]})}var pt=o.a.create({leftSliderContainer:{position:"absolute",top:245,left:8},rightSliderContainer:{position:"absolute",top:245,right:8}});function ht(e){return jn.indexOf(e)<2?3:jn.indexOf(e)>9?12:jn.indexOf(e)+2}function yt(e){var n=Object(y.useState)(ht(e.month)),t=b()(n,2),a=t[0],i=t[1],r=Object(y.useMemo)((function(){for(var n=0,t=0;t<e.data.length;t++)e.data[t].budget>n&&(n=e.data[t].budget);return n}),[e.data]),o=Object(y.useMemo)((function(){return jn.map((function(n){var t=e.data.find((function(e){return e.month===n}));return{month:n,budget:(null==t?void 0:t.budget)||0,spent:(null==t?void 0:t.spent)||{planned:0,unplanned:0},totalSpent:t?t.spent.planned+t.spent.unplanned:0}}))}),[e.data]),l=Object(y.useMemo)((function(){return o.slice(a-3,a)}),[o,a]),d=Object(y.useMemo)((function(){return l.map((function(e){return{month:e.month,budget:r-e.budget,spent:e.spent,totalSpent:e.totalSpent}}))}),[l]),s=Object(y.useState)(0),c=b()(s,2),u=c[0],m=c[1];Object(y.useEffect)((function(){i(ht(e.month))}),[e.month]),Object(y.useEffect)((function(){m(0),setTimeout((function(){return m(void 0)}),100)}),[l]);var k=Object(y.useCallback)((function(){i((function(e){return e<12?e+1:e}))}),[]),g=Object(y.useCallback)((function(){i((function(e){return e>3?e-1:e}))}),[]);return Object(_.jsxs)(P.a,{children:[Object(_.jsxs)(Tn.a,{domainPadding:{x:25},children:[Object(_.jsx)(Dn.a,{crossAxis:!0}),Object(_.jsxs)(rt.a,{offset:20,children:[Object(_.jsxs)(Vn.a,{children:[Object(_.jsx)(In.a,{data:l.map((function(e){return{x:e.month.slice(0,3),y:e.budget,label:e.budget?"$"+e.budget.toFixed(2):null}})),labelComponent:Object(_.jsx)(ot.a,{dx:-20}),barWidth:20,style:{data:{fill:"#4477aa"}}}),Object(_.jsx)(In.a,{data:d.map((function(e){return{x:e.month.slice(0,3),y:e.budget}})),barWidth:20,style:{data:{fill:"rgba(0,0,0,0)"}}})]}),Object(_.jsxs)(Vn.a,{children:[Object(_.jsx)(In.a,{data:l.map((function(e){return{x:e.month.slice(0,3),y:e.spent.planned}})),barWidth:20,style:{data:{fill:"#aa3377"}}}),Object(_.jsx)(In.a,{data:l.map((function(e){return{x:e.month.slice(0,3),y:e.spent.unplanned,label:e.totalSpent?"$"+e.totalSpent.toFixed(2):null}})),labelComponent:Object(_.jsx)(ot.a,{y:u,dx:20}),barWidth:20,style:{data:{fill:"#e0b4cd"}}})]})]})]}),a>3&&Object(_.jsx)(P.a,{style:vt.leftSliderContainer,children:Object(_.jsx)(lt,{direction:"left",size:40,onPress:g})}),a<12&&Object(_.jsx)(P.a,{style:vt.rightSliderContainer,children:Object(_.jsx)(lt,{direction:"right",size:40,onPress:k})}),Object(_.jsx)(P.a,{style:{alignItems:"center",marginBottom:20},children:Object(_.jsx)($n.a,{height:55,colorScale:["#4477aa","#aa3377","#e0b4cd"],data:[{name:"Budgeted"},{name:"Planned Expenses"},{name:"Unplanned Expenses"}],width:320,orientation:"horizontal",itemsPerRow:2,padding:20,gutter:0})})]})}var vt=o.a.create({leftSliderContainer:{position:"absolute",top:245,left:8},rightSliderContainer:{position:"absolute",top:245,right:8}});function ft(e){var n=e.navigation,t=new Date,a=Object(y.useState)(jn[t.getMonth()]),i=b()(a,2),r=i[0],o=i[1],l=Object(y.useState)(t.getFullYear()),d=b()(l,2),s=d[0],c=d[1],u=_e({onRetrieved:function(e){g(),x(),w(),z({variables:{passwordHash:e,month:r,year:s}})},redirect:"ifUnauthorized"});an((function(){h(),D(),M()}));var m=Object(de.a)(Te,{variables:{passwordHash:u,month:r,year:s}}),k=b()(m,2),g=k[0],j=k[1],p=(j.loading,j.data),h=j.refetch,v=Object(de.a)(Be,{variables:{passwordHash:u}}),f=b()(v,2),x=f[0],O=f[1],N=(O.loading,O.data),S=(O.refetch,Object(de.a)(Oe,{variables:{passwordHash:u}})),C=b()(S,2),w=C[0],F=C[1],T=(F.loading,F.data),D=F.refetch,I=Object(de.a)(He),B=b()(I,2),z=B[0],H=B[1],M=(H.data,H.refetch);Object(y.useEffect)((function(){M({passwordHash:u,month:r,year:s})}),[r]);var A=jn,E=function(){0===A.indexOf(r)?(o(A[A.length-1]),c((function(e){return e-1}))):o((function(e){return A[A.indexOf(e)-1]}))},R=function(){A.indexOf(r)===A.length-1?(o(A[0]),c((function(e){return e+1}))):o((function(e){return A[A.indexOf(e)+1]}))};return Object(y.useEffect)((function(){n.setOptions({headerTitle:r+" "+s,headerBackVisible:!1,headerLeft:function(){return Object(_.jsx)(Ln,{direction:"left",marginLeft:10,onPress:E})},headerRight:function(){return Object(_.jsx)(Ln,{direction:"right",marginRight:10,onPress:R})}})}),[r]),Object(_.jsx)(V.a,{keyboardShouldPersistTaps:"always",children:Object(_.jsxs)(Re,{children:[Object(_.jsx)(bt,{title:"Expenses by Category",graph:Object(_.jsx)(at,{categoryData:"MonthBreakdown"===(null==p?void 0:p.monthBreakdown.__typename)?p.monthBreakdown.byCategory.slice().sort((function(e,n){return e.category&&n.category?e.category.name>n.category.name?1:e.category.name<n.category.name?-1:0:0})):[],month:r,year:s}),onViewDetails:function(){return n.navigate("ExpandWheel",{year:s,month:r})}}),Object(_.jsx)(P.a,{style:{zIndex:-1,elevation:-1},children:Object(_.jsx)(bt,{title:"Expenses by Month",graph:Object(_.jsx)(jt,{month:r,data:"MonthsTotals"==(null==N?void 0:N.monthsTotals.__typename)?N.monthsTotals.byMonth.map((function(e){return{month:e.month,amount:e.amountSpent}})):[]}),onViewDetails:function(){return n.navigate("ExpandExpenses",{year:s,month:r})}})}),Object(_.jsx)(bt,{title:"Budgets by Month",graph:Object(_.jsx)(yt,{month:r,data:"MonthsTotals"==(null==N?void 0:N.monthsTotals.__typename)?N.monthsTotals.byMonth.map((function(e){return{month:e.month,budget:e.amountBudgeted,spent:{planned:e.amountSpentPlanned,unplanned:e.amountSpentUnplanned}}})):[]}),onViewDetails:function(){return n.navigate("ExpandBudget",{year:s,month:r})}}),Object(_.jsx)(bt,{title:"Budgets by Category",graph:Object(_.jsx)(mt,{displayAmount:3,jumpAmount:1,data:"MonthBreakdown"===(null==p?void 0:p.monthBreakdown.__typename)?p.monthBreakdown.byCategory.filter((function(e){var n,t="BudgetsSuccess"==(null==T?void 0:T.budgets.__typename)?T.budgets.budgets.find((function(e){return e.month==r&&e.year==s})):void 0,a=null==t||null==(n=t.budgetCategories)?void 0:n.find((function(n){var t;return n.category.name==(null==(t=e.category)?void 0:t.name)}));return!(0==e.amountSpent&&(void 0===a||0==a.amount))})):[],budgetReferenceData:"BudgetsSuccess"===(null==T?void 0:T.budgets.__typename)?T.budgets.budgets.find((function(e){return e.month==r&&e.year==s})):void 0}),onViewDetails:function(){return n.navigate("ExpandBarCat",{year:s,month:r})}})]})})}o.a.create({screen:{flex:1,backgroundColor:"white"},btnContainer:{alignItems:"center",marginTop:20,marginBottom:50,zIndex:-1,elevation:-1}});var xt=t(1041),Ot=t(1024);function Nt(e){var n=e.title,t=e.onPress,a=e.subtitle,i=e.topBorder,r=e.bottomBorder,l=Object(y.useMemo)((function(){return o.a.create({container:{backgroundColor:"#f5f5f5",borderTopWidth:i?1:0,borderBottomWidth:r?1:0,borderTopColor:"rgba(0,0,0,0.2)",borderBottomColor:"rgba(0,0,0,0.2)",paddingVertical:20}})}),[i,r]);return Object(_.jsx)(rn.a,{style:l.container,onPress:t,underlayColor:"rgba(0,0,0,0.2)",children:Object(_.jsxs)(P.a,{style:St.content,children:[Object(_.jsxs)(P.a,{style:St.titlesContiainer,children:[Object(_.jsx)(z.a,{style:St.title,children:n}),void 0!==a&&a.length>0&&Object(_.jsx)(z.a,{style:St.subtitle,children:a})]}),Object(_.jsx)(Ot.a,{name:"chevron-right",size:24,color:"black",style:St.icon})]})})}var St=o.a.create({content:{flexDirection:"row",justifyContent:"center",alignItems:"center"},titlesContiainer:{width:270,marginRight:20},title:{fontSize:18,fontWeight:"bold"},subtitle:{paddingTop:5},icon:{}});function Ct(e){var n=e.label,t=e.value;return Object(_.jsxs)(P.a,{style:wt.userDetailsRow,children:[Object(_.jsx)(z.a,{style:wt.userDetailsLabel,children:n}),Object(_.jsx)(z.a,{style:wt.userDetailsValue,children:t})]})}var wt=o.a.create({userDetailsRow:{flexDirection:"row",paddingVertical:5},userDetailsLabel:{width:100,textAlign:"right",fontSize:17},userDetailsValue:{fontWeight:"bold",width:250,paddingLeft:20,paddingRight:20,fontSize:17}});function Ft(e){var n=e.navigation,t=Object(de.a)(ce),a=b()(t,2),i=a[0],r=a[1],o=r.data,l=r.refetch,d=_e({onRetrieved:function(e){return i({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});an((function(){return l({passwordHash:d})}));var s,c=function(){Me.a.multiRemove(["passwordHash","New Category"]).then((function(){n.navigate("Welcome")}))};if(Object(y.useEffect)((function(){n.setOptions({headerRight:function(){return Object(_.jsx)(K.a,{onPress:c,children:Object(_.jsx)(z.a,{style:Tt.logoutBtn,children:"Log Out"})})}})}),[]),o){if("User"!==(null==o?void 0:o.user.__typename))return Object(_.jsx)(P.a,{style:Tt.screen,children:Object(_.jsx)(z.a,{children:"Error fetching user data."})});var u=o.user;return Object(_.jsxs)(V.a,{style:Tt.screen,children:[Object(_.jsx)(xt.a,{name:"user-circle",size:80,color:"black",style:Tt.userIcon}),Object(_.jsxs)(P.a,{style:Tt.userDetailsContainer,children:[Object(_.jsx)(Ct,{label:"First name",value:u.firstName}),Object(_.jsx)(Ct,{label:"Last name",value:u.lastName}),Object(_.jsx)(Ct,{label:"Username",value:u.username}),Object(_.jsx)(Ct,{label:"Email",value:u.email}),Object(_.jsx)(Ct,{label:"Phone",value:u.phoneNumber?(s=u.phoneNumber,s.slice(0,3)+"-"+s.slice(3,6)+"-"+s.slice(6)):"None"})]}),Object(_.jsxs)(P.a,{style:Tt.settingsList,children:[Object(_.jsx)(Nt,{title:"Categories",subtitle:"Modify your list of existing categories",onPress:function(){return n.navigate("CategorySettings")},topBorder:!0}),Object(_.jsx)(Nt,{title:"Merchants",subtitle:"Modify your list of existing merchants",onPress:function(){return n.navigate("MerchantSettings")},topBorder:!0}),Object(_.jsx)(Nt,{title:"Security",subtitle:"View or change your password",onPress:function(){return alert("Security screen is not yet implemented.")},topBorder:!0}),Object(_.jsx)(Nt,{title:"Notifications",subtitle:"Choose how often you want to recieve notifications",onPress:function(){return alert("Notifications screen is not yet implemented.")},topBorder:!0}),Object(_.jsx)(Nt,{title:"Help",subtitle:"Contact our Helpdesk",onPress:function(){return alert("Help screen is not yet implemented.")},topBorder:!0}),Object(_.jsx)(Nt,{title:"Privacy Policy",subtitle:"Learn more about this app",onPress:function(){return alert("Privacy policy screen is not yet implemented.")},topBorder:!0,bottomBorder:!0})]})]})}return Object(_.jsx)(P.a,{style:Tt.screen})}var Tt=o.a.create({screen:{flex:1,backgroundColor:"white"},logoutBtn:{color:"red",paddingRight:30,fontWeight:"bold",fontSize:17},userIcon:{alignSelf:"center",marginTop:10,marginBottom:20},userDetailsContainer:{alignItems:"center"},settingsList:{marginTop:25,marginBottom:20}}),Dt=t(247),Vt=["#EB4034","#EB7734","#EBC034","#FFFF00","#D3EB34","#96EB34","#30B027","#27B097","#2797B0","#273BB0","#784FD6","#773D9C","#B662BF","#ED72D0","#B82562","#99DDFF","#ABE8A9","#E6E287","#77768C","#DDDDDD"];function It(e){var n,t=e.navigation,i=e.route,r=Object(y.useState)((null==(n=i.params)?void 0:n.name)||""),o=b()(r,2),l=o[0],d=o[1],s=Object(y.useState)(""),c=b()(s,2),u=c[0],m=c[1],k=Object(y.useState)(""),g=b()(k,2),j=g[0],p=g[1],h=Object(y.useState)(!1),v=b()(h,2),f=v[0],x=v[1],O=Object(de.a)(ue,{onError:function(e){Je.a.alert(e.message)}}),N=b()(O,2),S=N[0],C=N[1],w=C.data,F=C.refetch,T=_e({onRetrieved:function(e){return S({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});an((function(){return F({passwordHash:T})}));var D=Object(qe.a)(be,{variables:{passwordHash:T,name:l,color:u,details:j},onError:function(e){Je.a.alert(e.message)},onCompleted:function(e){"CategorySuccess"===e.createCategory.__typename&&Me.a.setItem("New Category",JSON.stringify({name:l,id:e.createCategory.category.id})).then((function(){return t.canGoBack()?t.goBack():t.navigate("Root")})).catch((function(e){return console.log("Couldn't store new category")}))}}),V=b()(D,2),I=V[0],B=V[1],z=B.loading,P=B.data,H=function(){return"CategoriesSuccess"===(null==w?void 0:w.categories.__typename)&&w.categories.categories.find((function(e){return e.name.toLowerCase()===l.toLowerCase()}))},A=function(){return"CategoriesSuccess"===(null==w?void 0:w.categories.__typename)&&w.categories.categories.find((function(e){return e.colourHex.toLowerCase()===u.toLowerCase()}))};return Object(_.jsx)(Re,{children:Object(_.jsxs)(q,{style:M.container,children:[z?Object(_.jsx)(a.a,{size:"large"}):"CategorySuccess"===(null==P?void 0:P.createCategory.__typename)?Object(_.jsx)(U,{children:"Category created successfully! Redirecting..."}):Object(_.jsx)(U,{children:null==P?void 0:P.createCategory.errorMessage}),Object(_.jsx)(rn.a,{children:Object(_.jsx)(re,{onChangeText:d,value:l,placeholder:"Name"})}),f&&H()?Object(_.jsx)(U,{style:M.alert,children:"This category already exists"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(J,{check:f,input:l}),Object(_.jsx)(q,{style:M.palette,children:Object(_.jsx)(Dt.a,{onChange:function(e){return m(e.substring(1))},value:"#"+u,colors:Vt,titleStyles:M.colorTitle,title:"Select Category Color:",icon:Object(_.jsx)($.a,{name:"checkmark-circle-outline",size:30,color:"black"})})}),f&&A()?Object(_.jsx)(U,{style:M.alert,children:"There is already a category with this color"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(J,{check:f,input:u}),Object(_.jsx)(rn.a,{children:Object(_.jsx)(re,{onChangeText:function(e){return p(e)},value:j,placeholder:"Details"})}),Object(_.jsx)(ee,{text:"Save Category",onPress:function(){x(!0),u&&l&&!H()&&!A()&&I()},accessibilityLabel:"Save Category Button"})]})})}var Bt=t(139),zt=t.n(Bt),Pt=t(315);function Ht(e){return parseFloat(e)}function Mt(e){var n=e.onChangeAmount,t=e.defaultAmount,a=e.onSelect,i=e.errorMessage,r=Object(Pt.b)({B612Mono_700Bold:Pt.a}),o=b()(r,1)[0],l=Object(y.useState)(t.toFixed(2)),d=b()(l,2),s=d[0],c=d[1];return o?Object(_.jsxs)(q,{style:_t.container,children:[Object(_.jsx)(rn.a,{style:_t.dollarSignAndInput,children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(z.a,{style:_t.dollarSign,children:"$"}),Object(_.jsx)(te.a,{keyboardType:"numeric",style:[_t.input,{fontSize:50,width:30*((null==s?void 0:s.length)||0)+30}],value:s,onChangeText:function(e){var t=Ht(e=(e=(e=e.replace(/[^0-9.]/,"")).replace(/(\d*\.\d*)(\.)(\d*)/,"$1$3")).replace(/(\d*\.)(\d{2})(\d*)/,"$1$2"))||0;n(t),c(e)},maxLength:10,onBlur:function(){return c((Ht(s)||0).toFixed(2))},onFocus:function(){a&&a()},selectTextOnFocus:!0})]})}),void 0!==i&&i.length>0&&Object(_.jsx)(z.a,{style:_t.error,children:i})]}):Object(_.jsx)(q,{})}var _t=o.a.create({container:{height:150,alignItems:"center",justifyContent:"center"},dollarSignAndInput:{flexDirection:"row",alignItems:"flex-end"},dollarSign:{fontSize:20,marginRight:5,paddingBottom:15},input:{fontFamily:"B612Mono_700Bold"},error:{color:"red",fontSize:18}}),At=t(658),Et=["label","value","onPress"];function Rt(e){var n=e.label,t=e.value,a=e.onPress,i=B()(e,Et),r=Object(y.useState)(void 0!==i.focused&&i.focused),o=b()(r,2),l=o[0],d=o[1],s=!a||l?"rgba(0,0,0,0.1)":"white",c=Object(y.useMemo)((function(){return[Wt.container,{backgroundColor:s}]}),[s]);return Object(y.useEffect)((function(){void 0!==i.focused&&d(i.focused)}),[i.focused]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(rn.a,{style:c,onPress:function(){d(!0),a&&a()},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(P.a,{style:Wt.content,children:[Object(_.jsx)(z.a,{style:Wt.label,children:n}),Object(_.jsx)(z.a,{style:Wt.value,children:t})]})})})}var Wt=o.a.create({container:{borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)",paddingVertical:Zn,alignItems:"center",zIndex:-1,elevation:-1},content:{width:320,flexDirection:"row",alignItems:"center"},label:{fontSize:Gn,fontWeight:"bold",width:100,textAlign:"right",paddingRight:Kn},value:{width:220,fontSize:Gn}});function Lt(e){var n=e.label,t=e.placeholder,a=e.defaultValue,i=e.onChange,r=e.errorMessage,o=Object(y.useState)(!1),l=b()(o,2),d=l[0],s=l[1],c=Object(y.useRef)(null),u=d?"rgba(0,0,0,0.1)":"white",m=Object(y.useMemo)((function(){return[Ut.container,{backgroundColor:u}]}),[u]);return Object(y.useEffect)((function(){var e;d&&(null==(e=c.current)||e.focus())}),[d]),Object(_.jsx)(rn.a,{style:m,onPress:function(){return s(!0)},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(P.a,{style:Ut.content,children:[Object(_.jsx)(z.a,{style:Ut.label,children:n}),Object(_.jsx)(te.a,{style:Ut.input,placeholderTextColor:"grey",placeholder:t,defaultValue:a||"",editable:d,ref:c,onBlur:function(){return s(!1)},onChangeText:i,pointerEvents:"none"})]}),void 0!==r&&r.length>0&&Object(_.jsx)(z.a,{style:Ut.error,children:r})]})})}var Ut=o.a.create({container:{borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)",paddingVertical:Zn,alignItems:"center"},content:{width:320,flexDirection:"row",alignItems:"center"},label:{fontSize:Gn,fontWeight:"bold",width:100,textAlign:"right",paddingRight:Kn},input:{width:220,fontSize:Gn,color:"black"},error:{paddingTop:10,color:"red",alignSelf:"center",fontSize:Xn}});function qt(e){var n,t,a=e.initVals,i=e.onSubmit,r=Object(de.a)(ze,{onError:function(){return alert("Error occurred while fetching merchants and categories.")}}),o=b()(r,2),l=o[0],d=o[1],s=d.data,c=d.refetch,u=_e({onRetrieved:function(e){return l({variables:{passwordHash:e}})}});an(c);var m=Object(qe.a)(xe),k=b()(m,2),g=k[0];zt()(k[1]);var j=Object(y.useState)((null==a?void 0:a.amount)||0),p=b()(j,2),h=p[0],v=p[1],f=Object(y.useState)(null==a?void 0:a.merchantId),x=b()(f,2),O=x[0],N=x[1],S=Object(y.useState)(null==a?void 0:a.categoryId),C=b()(S,2),F=C[0],T=C[1],D=Object(y.useState)(!1),V=b()(D,2),I=V[0],B=V[1],z=Object(y.useState)((null==a?void 0:a.date)||Wn()().toISOString()),H=b()(z,2),M=H[0],A=H[1],E=Object(y.useState)((null==a?void 0:a.desc)||""),R=b()(E,2),W=R[0],L=R[1],U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][Wn()(M).month()],q=Wn()(M).date(),J=Wn()(M).year(),Y=Object(y.useState)(""),$=b()(Y,2),G=$[0],Z=$[1],K=Object(w.p)(),X=Object(y.useState)(),Q=b()(X,2),ne=Q[0],te=Q[1];return Object(_.jsxs)(Re,{onDismissKeyboard:function(){B(!1)},children:[Object(_.jsx)(Mt,{onChangeAmount:function(e){0!==e&&Z(""),v(e)},defaultAmount:(null==a?void 0:a.amount)||0,errorMessage:G}),Object(_.jsx)(_.Fragment,{children:"MerchantsSuccess"===(null==s?void 0:s.merchants.__typename)&&Object(_.jsx)(nt,{label:"Merchant",placeholder:"optional",data:s.merchants.merchants.map((function(e){return{id:e.id.toString(),value:e.name}})),defaultValue:a?null==(n=s.merchants.merchants.find((function(e){return e.id===a.merchantId})))?void 0:n.name:void 0,onFocus:function(){return B(!1)},onChange:function(e){if("MerchantsSuccess"===(null==s?void 0:s.merchants.__typename)){var n,t,a=s.merchants.merchants.find((function(n){return n.id===parseInt(e)}));te(null==a||null==(n=a.defaultCategory)?void 0:n.name),T(null==a||null==(t=a.defaultCategory)?void 0:t.id)}N(parseInt(e))},onCreateNew:function(e){e?g({variables:{passwordHash:u,name:e},onCompleted:function(e){"MerchantSuccess"===e.createMerchant.__typename?(c(),N(e.createMerchant.merchant.id)):alert("Failed to create merchant.")}}):K.navigate("CreateMerchant")}})}),Object(_.jsx)(_.Fragment,{children:"CategoriesSuccess"===(null==s?void 0:s.categories.__typename)&&Object(_.jsx)(nt,{label:"Category",placeholder:"optional",data:s.categories.categories.map((function(e){return{id:e.id.toString(),value:e.name,color:"#"+e.colourHex}})),defaultValue:a?null==(t=s.categories.categories.find((function(e){return e.id===a.categoryId})))?void 0:t.name:void 0,cachedValue:ne,onFocus:function(){return B(!1)},onChange:function(e){return T(parseInt(e))},onCreateNew:function(e){K.navigate("CreateCategory",{name:e})}})}),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Rt,{label:"Date",value:U+" "+q+" "+J,onPress:function(){return B(!0)},focused:I}),Object(_.jsx)(P.a,{children:I&&Object(_.jsx)(P.a,{style:Jt.calendarContainer,children:Object(_.jsx)(At.a,{onDateChange:function(e,n){A(e.toISOString()),B(!1)},initialDate:Wn()(M).toDate(),selectedStartDate:Wn()(M).toDate(),width:300})})}),Object(_.jsx)(P.a,{style:Jt.detailsRow,children:Object(_.jsx)(Lt,{label:"Details",placeholder:"optional",onChange:L})}),Object(_.jsx)(P.a,{style:Jt.buttonContainer,children:Object(_.jsx)(ee,{text:"Save Expense",accessibilityLabel:"Button to Save Expense",onPress:function(){0!==h?i({amount:h,merchantId:O,categoryId:F,date:M,desc:W}):Z("Please enter a non-zero amount.")}})})]})]})}var Jt=o.a.create({categoriesRow:{zIndex:-1,elevation:-1},detailsRow:{zIndex:-1,elevation:-1},buttonContainer:{flex:1,alignItems:"center",justifyContent:"flex-start",paddingTop:60,zIndex:-1,elevation:-1},calendarContainer:{alignSelf:"center",width:300,backgroundColor:"white",borderWidth:1,borderColor:"black",position:"absolute",top:-5,left:"50%",transform:[{translateX:-150}]}});function Yt(e){var n=e.navigation,t=(e.route,_e({redirect:"ifUnauthorized"})),a=Object(qe.a)(he),i=b()(a,2),r=i[0];return zt()(i[1]),Object(_.jsx)(qt,{onSubmit:function(e){r({variables:{passwordHash:t,amount:e.amount,epochDate:Wn()(e.date).unix(),merchantId:e.merchantId||null,categoryId:e.categoryId||null,desc:e.desc||null},onCompleted:function(e){"ExpenseSuccess"===e.createExpense.__typename?n.navigate("Root",{screen:"Expenses"}):"FailurePayload"===e.createExpense.__typename&&alert("Error creating expense: "+e.createExpense.exceptionName)}})}})}function $t(e){var n=e.navigation,t=e.route,a=Object(de.a)(ue),i=b()(a,2),r=i[0],o=i[1],l=o.data,d=o.refetch,s=_e({onRetrieved:function(e){return r({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});an((function(){return d({passwordHash:s})}));var c=Object(y.useState)(0),u=b()(c,2),m=u[0],k=u[1],g=Object(y.useState)(null),j=b()(g,2),p=j[0],h=j[1],v=Object(y.useState)(t.params.budget||null),f=b()(v,2),x=f[0],O=(f[1],Object(y.useState)("")),N=b()(O,2),S=N[0],C=N[1],w=Object(y.useState)(!1),F=b()(w,2),T=F[0],D=F[1],V=Object(qe.a)(Se,{variables:{passwordHash:s,budgetId:null==x?void 0:x.id,categoryId:p,amount:m},onError:function(e){alert(e.message)},onCompleted:function(e){"BudgetCategorySuccess"==e.createBudgetCategory.__typename&&(n.canGoBack()?n.goBack():n.navigate("Root",{screen:"Budget"}))}}),I=b()(V,1)[0];return Object(_.jsxs)(Re,{children:[Object(_.jsx)(Mt,{defaultAmount:0,onChangeAmount:function(e){0!==e&&C(""),k(e)},errorMessage:S}),Object(_.jsx)(nt,{label:"Category",placeholder:"required",data:"CategoriesSuccess"===(null==l?void 0:l.categories.__typename)?l.categories.categories.filter((function(e){var n;return void 0===(null==x||null==(n=x.budgetCategories)?void 0:n.find((function(n){return n.category.name==e.name})))})).map((function(e){return{value:e.name,id:e.id.toString(),color:"#"+e.colourHex}})):[],onChange:function(e){return h(parseInt(e))},onCreateNew:function(e){n.navigate("CreateCategory",{name:e}),D(!1)},required:!0,check:T}),Object(_.jsx)(Rt,{label:"Month",value:(null==x?void 0:x.month)+" "+(null==x?void 0:x.year)}),Object(_.jsx)(P.a,{style:Gt.buttonContainer,children:Object(_.jsx)(ee,{text:"Create New Budget",accessibilityLabel:"Button to Create New Budget",onPress:function(){return function(){var e=!0;0==m&&(C("Please enter a non-zero amount."),e=!1),null!=x&&null!=x.id||(alert("Parent budget not found"),e=!1),null==p&&(D(!0),e=!1),e&&I()}()}})})]})}var Gt=o.a.create({dollarSign:{fontSize:20,marginRight:5,paddingBottom:15},amountInput:{fontSize:50,height:200,width:100,padding:0},row:{alignItems:"center",borderTopWidth:1,borderTopColor:"rgba(0,0,0,0.3)",paddingVertical:10,paddingHorizontal:30},fieldContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:320},fieldLabelAndInputContainer:{flexDirection:"row",justifyContent:"space-between",width:280},fieldLabel:{fontWeight:"bold",fontSize:15},fieldInput:{fontSize:15,width:180},detailsIconAndLabel:{flexDirection:"row",paddingHorizontal:0,marginRight:27,alignItems:"center"},detailsIcon:{transform:[{rotateZ:"90deg"},{rotateY:"180deg"}],marginRight:5},detailsInput:{fontSize:15,width:250},buttonContainer:{flex:1,alignItems:"center",justifyContent:"flex-start",paddingTop:60,zIndex:-1,elevation:-1},listItem:{fontSize:15},calendarContainer:{alignSelf:"center",width:300,backgroundColor:"white",borderWidth:1,borderColor:"black",position:"absolute",top:43,left:"50%",transform:[{translateX:-150}]}});function Zt(e){var n=e.onPress;return Object(_.jsx)(rn.a,{style:Kt.container,onPress:n,underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsx)(nn.a,{name:"delete",size:24,color:"red"})})}var Kt=o.a.create({container:{width:44,height:44,alignItems:"center",justifyContent:"center",borderRadius:22}}),Xt=o.a.create({container:{flex:1,justifyContent:"space-between",alignItems:"center",marginVertical:"50%",marginHorizontal:"10%",backgroundColor:"white",borderRadius:20,padding:35,paddingBottom:40,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4},buttonView:{flexDirection:"row",width:250,justifyContent:"space-between"},title:{fontSize:26,marginBottom:"10%",textAlign:"center",fontWeight:"bold"},text:{fontSize:16,textAlign:"center"},warning:{fontSize:18,fontWeight:"bold",textAlign:"center",marginBottom:5}});function Qt(e){var n=e.navigation,t=e.route,a=_e({redirect:"ifUnauthorized"}),i=Object(y.useState)(t.params.budgetCategory.amount),r=b()(i,2),o=r[0],l=r[1],d=t.params.budgetCategory,s=Object(y.useState)(""),c=b()(s,2),u=c[0],m=c[1],k=Object(y.useState)(!1),g=b()(k,2),j=g[0],p=g[1],h=Object(qe.a)(Ce,{variables:{passwordHash:a,id:null==d?void 0:d.id,amount:o},onError:function(e){alert(e.message)},onCompleted:function(e){"BudgetCategorySuccess"==e.updateBudgetCategory.__typename&&(n.canGoBack()?n.goBack():n.navigate("Root",{screen:"Budget"}))}}),v=b()(h,1)[0],f=Object(qe.a)(Fe,{variables:{passwordHash:a,id:null==d?void 0:d.id},onCompleted:function(e){"DeleteSuccess"==e.deleteBudgetCategory.__typename&&(n.canGoBack()?n.goBack():n.navigate("Root",{screen:"Budget"}))}}),x=b()(f,1)[0];return Object(y.useEffect)((function(){n.setOptions({headerRight:function(e){return Object(_.jsx)(Zt,{onPress:function(){return p(!0)}})}})}),[]),Object(_.jsxs)(Re,{children:[Object(_.jsx)(Mt,{defaultAmount:o,onChangeAmount:function(e){0!==e&&m(""),l(e)},errorMessage:u}),Object(_.jsx)(Rt,{label:"Category",value:d.category.name}),Object(_.jsx)(P.a,{style:ea.buttonContainer,children:Object(_.jsx)(ee,{text:"Save Budget",accessibilityLabel:"Button to Save Budget",onPress:function(){0!==o?v():m("Please enter a non-zero amount.")}})}),Object(_.jsx)(D.a,{transparent:!0,visible:j,onRequestClose:function(){return p(!1)},children:Object(_.jsxs)(P.a,{style:Xt.container,children:[Object(_.jsx)(z.a,{style:Xt.title,children:"Delete Budget?"}),Object(_.jsx)(z.a,{style:Xt.text,children:"Are you sure you want to delete this budget?"}),Object(_.jsxs)(P.a,{style:Xt.buttonView,children:[Object(_.jsx)(ee,{text:"Cancel",onPress:function(){return p(!1)},size:"half",accessibilityLabel:"Cancel button"}),Object(_.jsx)(ee,{text:"Delete",onPress:function(){return x()},size:"half",backgroundColor:"red",accessibilityLabel:"Delete Category button"})]})]})})]})}var ea=o.a.create({buttonContainer:{alignItems:"center",justifyContent:"flex-start",marginTop:60}});function na(e){var n,t,a,i,r,o,l,d,s=e.navigation,c=e.route,u=_e({redirect:"ifUnauthorized"}),m=Object(y.useState)(!1),k=b()(m,2),g=k[0],j=k[1],p=Object(qe.a)(ye),h=b()(p,2),v=h[0];zt()(h[1]);var f=Object(qe.a)(ve,{variables:{passwordHash:u,id:null==(d=c.params)?void 0:d.id},onCompleted:function(e){"DeleteSuccess"===e.deleteExpense.__typename?s.navigate("Root",{screen:"Expenses"}):"FailurePayload"===e.deleteExpense.__typename&&alert("Error deleting expense: "+e.deleteExpense.exceptionName)}}),x=b()(f,2),O=x[0];return zt()(x[1]),Object(y.useEffect)((function(){s.setOptions({headerRight:function(e){return Object(_.jsx)(Zt,{onPress:function(){return j(!0)}})}})}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(qt,{onSubmit:function(e){var n;v({variables:{passwordHash:u,id:(null==(n=c.params)?void 0:n.id)||-1,amount:e.amount,epochDate:Wn()(e.date).unix(),merchantId:e.merchantId||null,categoryId:e.categoryId||null,desc:e.desc||null},onCompleted:function(e){var n;"ExpenseSuccess"===e.updateExpense.__typename?s.navigate("ExpenseDetails",{expenseId:(null==(n=c.params)?void 0:n.id)||0}):"FailurePayload"===e.updateExpense.__typename&&alert("Error occurred while trying to update expense: "+e.updateExpense.exceptionName)}})},initVals:{amount:(null==(n=c.params)?void 0:n.amount)||0,merchantId:null==(t=c.params)||null==(a=t.merchant)?void 0:a.id,categoryId:null==(i=c.params)||null==(r=i.category)?void 0:r.id,date:(null==(o=c.params)?void 0:o.date)||Wn()().toString(),desc:null==(l=c.params)?void 0:l.desc}}),Object(_.jsx)(D.a,{transparent:!0,visible:g,onRequestClose:function(){return j(!1)},children:Object(_.jsxs)(P.a,{style:Xt.container,children:[Object(_.jsx)(z.a,{style:Xt.title,children:"Delete Expense?"}),Object(_.jsx)(z.a,{style:Xt.text,children:"Are you sure you want to delete this expense?"}),Object(_.jsxs)(P.a,{style:Xt.buttonView,children:[Object(_.jsx)(ee,{text:"Cancel",onPress:function(){return j(!1)},size:"half",accessibilityLabel:"Cancel button"}),Object(_.jsx)(ee,{text:"Delete",onPress:function(){O()},size:"half",backgroundColor:"red",accessibilityLabel:"Delete Category button"})]})]})})]})}function ta(e){var n=e.navigation,t=e.route.params,i=t.id,r=t.name,o=t.color,l=t.details,d=Object(y.useState)(!1),s=b()(d,2),c=s[0],u=s[1],m=Object(y.useState)(r),k=b()(m,2),g=k[0],j=k[1],p=Object(y.useState)(o),h=b()(p,2),v=h[0],f=h[1],x=Object(y.useState)(!1),O=b()(x,2),N=O[0],S=O[1],C=Object(y.useState)(l),w=b()(C,2),F=w[0],T=w[1],V=_e({onRetrieved:function(e){return z({variables:{passwordHash:e}})},redirect:"ifUnauthorized"}),I=Object(de.a)(ue,{onError:function(e){Je.a.alert(e.message)}}),B=b()(I,2),z=B[0],P=B[1].data,H=Object(qe.a)(ke,{variables:{passwordHash:V,id:i,name:g,color:v,details:F},onError:function(e){Je.a.alert(e.message)},onCompleted:function(e){"CategorySuccess"===e.updateCategory.__typename&&(n.canGoBack()?n.goBack():n.navigate("CategorySettings"))}}),A=b()(H,2),E=A[0],R=A[1],W=R.loading,L=R.data,Y=Object(qe.a)(ge,{variables:{passwordHash:V,id:i},onError:function(e){Je.a.alert(e.message)},onCompleted:function(e){"DeleteSuccess"===e.deleteCategory.__typename&&(n.canGoBack()?n.goBack():n.navigate("CategorySettings"))}}),G=b()(Y,2),Z=G[0],K=(G[1].data,function(){return"CategoriesSuccess"===(null==P?void 0:P.categories.__typename)?P.categories.categories.find((function(e){return e.id!==i&&e.name.toLowerCase()===g.toLowerCase()})):void 0}),X=function(){return"CategoriesSuccess"===(null==P?void 0:P.categories.__typename)&&P.categories.categories.find((function(e){return e.id!==i&&e.colourHex.toLowerCase()===v.toLowerCase()}))};return Object(_.jsx)(Re,{backdrop:N,children:Object(_.jsxs)(q,{style:M.container,children:[W?Object(_.jsx)(a.a,{size:"large"}):"CategorySuccess"===(null==L?void 0:L.updateCategory.__typename)?Object(_.jsx)(U,{children:"Category updated successfully! Redirecting..."}):Object(_.jsx)(U,{children:null==L?void 0:L.updateCategory.errorMessage}),Object(_.jsx)(rn.a,{children:Object(_.jsx)(re,{onChangeText:function(e){return j(e)},value:g,placeholder:"Name"})}),K()?Object(_.jsx)(U,{style:M.alert,children:"This category already exists"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(J,{check:c,input:g}),Object(_.jsx)(q,{style:[M.palette],children:Object(_.jsx)(Dt.a,{onChange:function(e){return f(e.substring(1))},value:"#"+v,colors:Vt,titleStyles:M.colorTitle,title:"Select Category Color:",icon:Object(_.jsx)($.a,{name:"checkmark-circle-outline",size:30,color:"black"})})}),X()?Object(_.jsx)(U,{style:M.alert,children:"There is already a category with this color"}):Object(_.jsx)(_.Fragment,{}),Object(_.jsx)(J,{check:c,input:v}),Object(_.jsx)(rn.a,{children:Object(_.jsx)(re,{onChangeText:function(e){return T(e)},value:F||void 0,placeholder:"Details"})}),Object(_.jsx)(ee,{text:"Save Category",disabled:N,onPress:function(){u(!0),v&&g&&!K()&&!X()&&E()},accessibilityLabel:"Save Category Button"}),Object(_.jsx)(ee,{text:"Delete Category",disabled:N,backgroundColor:"red",onPress:function(){return S(!0)},accessibilityLabel:"Delete Category Button"}),Object(_.jsx)(D.a,{transparent:!0,visible:N,onRequestClose:function(){return S(!1)},children:Object(_.jsxs)(q,{style:Xt.container,children:[Object(_.jsx)(U,{style:Xt.title,children:"Delete Category?"}),Object(_.jsx)(U,{style:Xt.text,children:"Are you sure you want to delete this category?"}),Object(_.jsx)(U,{style:Xt.warning,children:"Warning: Budgets in this category will also be deleted."}),Object(_.jsxs)(q,{style:Xt.buttonView,children:[Object(_.jsx)(ee,{text:"Cancel",onPress:function(){return S(!1)},size:"half",accessibilityLabel:"Cancel button"}),Object(_.jsx)(ee,{text:"Delete",onPress:function(){Z()},size:"half",backgroundColor:"red",accessibilityLabel:"Delete Category button"})]})]})})]})})}var aa=t(1025);function ia(e){return Object(_.jsx)(rn.a,{style:oa.row,onPress:function(){return e.onPress(e.id,e.name)},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(P.a,{style:oa.itemContainer,children:[Object(_.jsxs)(P.a,{style:oa.colorAndNameContainer,children:[Object(_.jsx)(Qn,{color:e.colour,size:24}),Object(_.jsx)(z.a,{style:{fontSize:22,marginHorizontal:5,marginLeft:15,fontWeight:"bold"},children:e.name})]}),Object(_.jsx)(aa.a,{name:"navigate-next",size:28,color:"black"})]})})}function ra(e){var n=e.navigation,t=Object(de.a)(ue,{onError:function(e){return Je.a.alert(e.message)}}),i=b()(t,2),r=i[0],o=i[1],l=o.data,d=o.loading,s=o.refetch,c=_e({onRetrieved:function(e){return r({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});return an((function(){return s({passwordHash:c})})),Object(_.jsx)(P.a,{style:oa.screen,children:d?Object(_.jsx)(a.a,{size:"large"}):"CategoriesSuccess"===(null==l?void 0:l.categories.__typename)?Object(_.jsx)(en.a,{data:[{id:-1,name:"New category",colourHex:"ffffff"}].concat(gn()(l.categories.categories.slice().sort((function(e,n){return e.name>n.name?1:-1})))),renderItem:function(e){var t=e.item;return Object(_.jsx)(ia,{id:t.id.toString(),name:t.name,colour:-1===t.id?"plus":"#"+t.colourHex,onPress:function(){return-1===t.id?n.navigate("CreateCategory"):n.navigate("EditCategory",{id:t.id,name:t.name,color:"#"+t.colourHex})}})},ListFooterComponent:Object(_.jsx)(P.a,{style:{height:20}})}):Object(_.jsxs)(P.a,{children:[Object(_.jsx)(z.a,{children:null==l?void 0:l.categories.exceptionName}),Object(_.jsx)(z.a,{children:null==l?void 0:l.categories.errorMessage})]})})}var oa=o.a.create({screen:{flex:1,backgroundColor:"white"},addBtnContainer:{position:"absolute",right:15,bottom:15},row:{alignItems:"center",paddingVertical:20,borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)"},itemContainer:{width:300,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},colorAndNameContainer:{flexDirection:"row",alignItems:"center",width:250}});function la(e){var n,t=e.navigation,i=e.route,r=Object(de.a)(fe),o=b()(r,2),l=o[0],d=o[1].data,s=Object(de.a)(ue,{onError:function(e){Je.a.alert(e.message)}}),c=b()(s,2),u=c[0],m=c[1],k=m.data,g=m.refetch,j=_e({onRetrieved:function(e){l({variables:{passwordHash:e}}),u({variables:{passwordHash:e}})},redirect:"ifUnauthorized"}),p=i.params,h=p.id,v=p.name,f=p.description,x=p.category,O=Object(y.useState)(v),N=b()(O,2),S=N[0],C=N[1],w=Object(y.useState)(f),F=b()(w,2),T=F[0],V=F[1],I=Object(y.useState)(x),B=b()(I,2),H=B[0],A=B[1],E=Object(y.useState)(!1),R=b()(E,2),W=R[0],L=R[1],U=Object(y.useState)(!1),q=b()(U,2),J=q[0],Y=q[1],$=Object(qe.a)(Ie,{variables:{passwordHash:j,id:null==(n=i.params)?void 0:n.id},onCompleted:function(e){"DeleteSuccess"===e.deleteMerchant.__typename&&(t.canGoBack()?t.goBack():t.navigate("MerchantSettings"))}}),G=b()($,1)[0],Z=Object(qe.a)(we,{variables:{passwordHash:j,id:h,name:S,description:T,defaultCategoryId:null==H?void 0:H.id},onError:function(e){Je.a.alert(e.message)},onCompleted:function(e){"MerchantSuccess"===e.updateMerchant.__typename&&(t.canGoBack()?t.goBack():t.navigate("MerchantSettings"))}}),K=b()(Z,2),X=K[0],Q=K[1],ne=Q.loading,te=Q.data;an((function(){return g({passwordHash:j})})),an((function(){Me.a.getItem("New Category").then((function(e){e&&A(JSON.parse(e))})).catch((function(e){console.log("Couldn't retrieve new category: "+e)}))}));var ae=function(){return Object(_.jsx)(Zt,{onPress:function(){return Y(!0)}})},ie=function(){return"MerchantsSuccess"===(null==d?void 0:d.merchants.__typename)&&S?null==d?void 0:d.merchants.merchants.find((function(e){return e.id!==h&&e.name.toLowerCase()===S.toLowerCase()})):void 0};Object(y.useEffect)((function(){t.setOptions({headerRight:function(e){return Object(_.jsx)(ae,{})}})}),[J]);var re=W&&!S?"Field is required":W&&ie()?"This merchant already exists.":void 0;return Object(_.jsx)(Re,{children:Object(_.jsxs)(P.a,{style:da.container,children:[Object(_.jsx)(Lt,{label:"Merchant",placeholder:"required",defaultValue:S,onChange:C,errorMessage:re}),Object(_.jsx)(Lt,{label:"Details",placeholder:"optional",defaultValue:T||"",onChange:V}),Object(_.jsx)(nt,{label:"Default Category",placeholder:"optional",cachedValue:null==H?void 0:H.name,data:"CategoriesSuccess"===(null==k?void 0:k.categories.__typename)?k.categories.categories.map((function(e){return{id:e.id.toString(),value:e.name,color:"#"+e.colourHex}})):[],onChange:function(e){if("CategoriesSuccess"===(null==k?void 0:k.categories.__typename)){var n=k.categories.categories.find((function(n){return n.id===parseInt(e)}));void 0!==n?A(n):Je.a.alert("Category hasn't been created yet.")}},onCreateNew:function(e){t.navigate("CreateCategory",{name:e})},labelForCreateNew:"category"}),Object(_.jsx)(P.a,{style:da.buttonContainer,children:Object(_.jsx)(ee,{text:"Update Merchant",disabled:J,accessibilityLabel:"Button to Update Merchant",onPress:function(){L(!0),S&&!ie()&&X()}})}),ne?Object(_.jsx)(a.a,{size:"large"}):"MerchantSuccess"===(null==te?void 0:te.updateMerchant.__typename)?Object(_.jsx)(z.a,{children:"Merchant updated successfully!"}):Object(_.jsx)(z.a,{style:M.alert,children:null==te?void 0:te.updateMerchant.errorMessage}),Object(_.jsx)(D.a,{transparent:!0,visible:J,onRequestClose:function(){return Y(!1)},children:Object(_.jsxs)(P.a,{style:Xt.container,children:[Object(_.jsx)(z.a,{style:Xt.title,children:"Delete Merchant?"}),Object(_.jsx)(z.a,{style:Xt.text,children:"Are you sure you want to delete this merchant?"}),Object(_.jsxs)(P.a,{style:Xt.buttonView,children:[Object(_.jsx)(ee,{text:"Cancel",onPress:function(){return Y(!1)},size:"half",accessibilityLabel:"Cancel button"}),Object(_.jsx)(ee,{text:"Delete",onPress:function(){G()},size:"half",backgroundColor:"red",accessibilityLabel:"Delete Category button"})]})]})})]})})}var da=o.a.create({container:{flex:1,marginTop:50},row:{flexDirection:"row",justifyContent:"space-between",borderTopWidth:1,borderTopColor:"rgba(0,0,0,0.3)",paddingVertical:10,paddingHorizontal:30},buttonContainer:{alignSelf:"center",marginTop:50,zIndex:-1,elevation:-1},fieldLabel:{fontWeight:"bold",fontSize:15,paddingLeft:5},fieldInput:{fontSize:15,width:180},deleteButton:{}});function sa(e){var n=e.navigation,t=_e({onRetrieved:function(e){B({variables:{passwordHash:e}}),E({variables:{passwordHash:e}})},redirect:"ifUnauthorized"}),i=v.a.useState(""),r=b()(i,2),o=r[0],l=r[1],d=v.a.useState(""),s=b()(d,2),c=s[0],u=s[1],m=v.a.useState(),k=b()(m,2),g=k[0],j=k[1],p=v.a.useState(!1),h=b()(p,2),y=h[0],f=h[1],x=v.a.useState(!1),O=b()(x,2),N=O[0],S=(O[1],Object(qe.a)(xe,{variables:{passwordHash:t,name:o,description:c,defaultCategoryId:null==g?void 0:g.id},onError:function(e){Je.a.alert(e.message)},onCompleted:function(){n.canGoBack()?n.goBack():n.navigate("MerchantSettings")}})),C=b()(S,2),w=C[0],F=C[1],T=F.loading,D=F.data,V=Object(de.a)(ue,{onError:function(e){Je.a.alert(e.message)}}),I=b()(V,2),B=I[0],z=I[1],P=z.data,H=z.refetch,M=Object(de.a)(fe),A=b()(M,2),E=A[0],R=A[1].data;an((function(){H({passwordHash:t})})),an((function(){Me.a.getItem("New Category").then((function(e){e&&j(JSON.parse(e))})).catch((function(e){console.log("Couldn't retrieve new category: "+e)}))}));var W=function(){return"MerchantsSuccess"===(null==R?void 0:R.merchants.__typename)&&o?null==R?void 0:R.merchants.merchants.find((function(e){return e.name.toLowerCase()===o.toLowerCase()})):void 0},L=y&&!o?"Field is required":y&&W()?"This merchant already exists.":void 0;return Object(_.jsx)(Re,{children:Object(_.jsxs)(q,{style:ca.container,children:[Object(_.jsx)(Lt,{label:"Name",placeholder:"required",onChange:l,errorMessage:L}),Object(_.jsx)(Lt,{label:"Details",placeholder:"optional",onChange:u}),Object(_.jsx)(nt,{label:"Default Category",placeholder:"optional",data:"CategoriesSuccess"==(null==P?void 0:P.categories.__typename)?P.categories.categories.map((function(e){return{id:e.id.toString(),value:e.name,color:"#"+e.colourHex}})):[],cachedValue:null==g?void 0:g.name,onChange:function(e){if("CategoriesSuccess"==(null==P?void 0:P.categories.__typename)){var n=P.categories.categories.find((function(n){return n.id===parseInt(e)}));void 0!==n&&j(n)}},onCreateNew:function(e){n.navigate("CreateCategory",{name:e})},labelForCreateNew:"category"}),Object(_.jsx)(q,{style:ca.buttonContainer,children:Object(_.jsx)(ee,{text:"Save Merchant",accessibilityLabel:"Save Merchant",onPress:function(){return f(!0),void(o&&!W()&&w())},disabled:N})}),T?Object(_.jsx)(a.a,{size:"large"}):"MerchantSuccess"===(null==D?void 0:D.createMerchant.__typename)?Object(_.jsx)(U,{children:"Merchant created successfully!"}):Object(_.jsx)(U,{style:ca.alert,children:null==D?void 0:D.createMerchant.errorMessage})]})})}var ca=o.a.create({container:{flex:1,marginTop:50},alert:{color:"red"},buttonContainer:{alignSelf:"center",marginTop:50,zIndex:-1,elevation:-1}});function ua(e){return Object(_.jsx)(rn.a,{style:ba.row,onPress:function(){return e.onPress(e.id,e.name)},underlayColor:"rgba(0,0,0,0.1)",children:Object(_.jsxs)(P.a,{style:ba.itemContainer,children:[Object(_.jsxs)(P.a,{style:ba.colorAndNameContainer,children:["-1"===e.id&&Object(_.jsx)(Qn,{color:"plus",size:24}),Object(_.jsx)(z.a,{style:{fontSize:22,marginHorizontal:5,marginLeft:"-1"===e.id?15:39,fontWeight:"bold"},children:e.name})]}),Object(_.jsx)(aa.a,{name:"navigate-next",size:28,color:"black"})]})})}function ma(e){var n=e.navigation,t=Object(de.a)(fe,{onError:function(e){Je.a.alert(e.message)}}),i=b()(t,2),r=i[0],o=i[1],l=o.data,d=o.loading,s=o.refetch,c=_e({onRetrieved:function(e){return r({variables:{passwordHash:e}})},redirect:"ifUnauthorized"});an((function(){return s({passwordHash:c})}));return Object(_.jsx)(P.a,{style:ba.screen,children:d?Object(_.jsx)(a.a,{size:"large"}):"MerchantsSuccess"===(null==l?void 0:l.merchants.__typename)?Object(_.jsx)(en.a,{data:[{id:-1,name:"New merchant"}].concat(gn()(l.merchants.merchants.slice().sort((function(e,n){return e.name>n.name?1:-1})))),renderItem:function(e){var t=e.item;return Object(_.jsx)(ua,{id:t.id.toString(),name:t.name,onPress:function(){return-1===t.id?n.navigate("CreateMerchant"):n.navigate("UpdateMerchant",{id:t.id,name:t.name})}})},ListFooterComponent:Object(_.jsx)(P.a,{style:{height:20}})}):Object(_.jsxs)(P.a,{children:[Object(_.jsx)(z.a,{children:null==l?void 0:l.merchants.exceptionName}),Object(_.jsx)(z.a,{children:null==l?void 0:l.merchants.errorMessage})]})})}var ba=o.a.create({screen:{flex:1,backgroundColor:"white"},row:{alignItems:"center",paddingVertical:20,borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)"},addBtnContainer:{position:"absolute",right:15,bottom:15},itemContainer:{width:300,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},colorAndNameContainer:{flexDirection:"row",alignItems:"center",width:250}});function ka(e){e.navigation;var n=e.route,t=_e({onRetrieved:function(e){w(),B()},redirect:"ifUnauthorized"}),a=Object(y.useState)(),i=b()(a,2),r=i[0],o=i[1],l=Object(y.useState)(!1),d=b()(l,2),s=d[0],c=d[1],u=Object(y.useState)(!1),m=b()(u,2),k=m[0],g=m[1],j=Object(y.useState)(!0),p=b()(j,2),h=p[0],v=p[1],f=Object(y.useState)(""),x=b()(f,2),O=x[0],N=x[1],S=Object(de.a)(Be,{variables:{passwordHash:t}}),C=b()(S,2),w=C[0],F=C[1],T=(F.loading,F.data),D=(F.refetch,Object(de.a)(Te,{variables:{passwordHash:t,month:n.params.month,year:n.params.year}})),I=b()(D,2),B=I[0],H=I[1],M=H.loading,A=H.data;return Object(y.useEffect)((function(){var e;("MonthsTotals"===(null==T?void 0:T.monthsTotals.__typename)&&T.monthsTotals.byMonth.length>=2&&g(!0),"MonthBreakdown"===(null==A?void 0:A.monthBreakdown.__typename))&&(void 0===(null==(e=A.monthBreakdown.topMerchant)?void 0:e.merchant)?v(!1):v(!0))}),[T]),Object(y.useEffect)((function(){var e,n;M||"MonthBreakdown"!==(null==A?void 0:A.monthBreakdown.__typename)?N(void 0):N(null==(e=A.monthBreakdown.topMerchant)||null==(n=e.merchant)?void 0:n.name)}),[A]),Object(y.useEffect)((function(){if("MonthsTotals"===(null==T?void 0:T.monthsTotals.__typename)&&T.monthsTotals.byMonth.length>=2){var e=T.monthsTotals.byMonth.findIndex((function(e){return e.month===n.params.month}))-1,t=T.monthsTotals.byMonth[e+1].amountSpent,a=T.monthsTotals.byMonth[e].amountSpent,i=t-a,r=i/((t+a)/2);i>0?(c(!0),o(Math.abs(100*r).toFixed(1))):o(Math.abs(100*r).toFixed(1))}}),[T]),Object(_.jsx)(P.a,{style:ga.screen,children:Object(_.jsxs)(V.a,{children:[Object(_.jsx)(bt,{title:"Expenses for "+n.params.month.slice(0,3)+" "+n.params.year,graph:Object(_.jsx)(jt,{month:n.params.month,data:"MonthsTotals"==(null==T?void 0:T.monthsTotals.__typename)?T.monthsTotals.byMonth.map((function(e){return{month:e.month,amount:e.amountSpent}})):[]})}),h&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50,marginHorizontal:60},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center"},children:[Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[O," "]}),Object(_.jsx)(z.a,{style:{paddingLeft:5,width:300,fontSize:26},children:"is your top spending Merchant"})]})})})}),k&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50,marginHorizontal:60,paddingBottom:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:{paddingLeft:5,width:300,fontSize:26},children:"You spent "}),Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[r,"% ",s?"more":"less"]}),Object(_.jsx)(z.a,{style:{paddingLeft:5,width:300,fontSize:26},children:" this month than the previous month"})]})})})})]})})}var ga=o.a.create({screen:{flex:1,backgroundColor:"white"}});function ja(e){e.navigation;var n,t,a,i,r=e.route,o=_e({onRetrieved:function(e){j()},redirect:"ifUnauthorized"}),l=Object(y.useState)(r.params.month),d=b()(l,2),s=d[0],c=(d[1],Object(y.useState)(r.params.year)),u=b()(c,2),m=u[0],k=(u[1],Object(de.a)(Be,{variables:{passwordHash:o}})),g=b()(k,2),j=g[0],p=g[1],h=(p.loading,p.data),v=(p.refetch,"MonthsTotals"==(null==h?void 0:h.monthsTotals.__typename)?h.monthsTotals.byMonth.findIndex((function(e){return e.month==s&&e.year==m})):-1),f=void 0,x=void 0;function O(e,n){return void 0===e||1===e?Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:n}),Object(_.jsx)(z.a,{style:pa.text,children:" is unchanged from last month"})]})})}):e>1?Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:n}),Object(_.jsx)(z.a,{style:pa.text,children:" has increased by "}),Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:["$",(100*(e-1)).toFixed()]}),Object(_.jsx)(z.a,{style:pa.text,children:" from last month"})]})})}):Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:n}),Object(_.jsx)(z.a,{style:pa.text,children:" has decreased by "}),Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[(100*e).toFixed(),"%"]}),Object(_.jsx)(z.a,{style:pa.text,children:" from last month"})]})})})}return v>0&&"MonthsTotals"==(null==h?void 0:h.monthsTotals.__typename)&&(f=h.monthsTotals.byMonth[v],n=0!==(x=h.monthsTotals.byMonth[v-1]).amountSpent?f.amountSpent/x.amountSpent:1,t=0!==x.amountBudgeted?f.amountBudgeted/x.amountBudgeted:1,a=0!==f.amountBudgeted?f.amountSpent/f.amountBudgeted:1),Object(_.jsx)(P.a,{style:pa.screen,children:Object(_.jsxs)(V.a,{children:[Object(_.jsx)(bt,{title:"Budgets for "+s.slice(0,3)+" "+m,graph:Object(_.jsx)(yt,{month:s,data:"MonthsTotals"==(null==h?void 0:h.monthsTotals.__typename)?h.monthsTotals.byMonth.map((function(e){return{month:e.month,budget:e.amountBudgeted,spent:{planned:e.amountSpentPlanned,unplanned:e.amountSpentUnplanned}}})):[]})}),f&&Object(_.jsx)(P.a,{style:[pa.textContainer],children:(i=a,void 0===i||1===i?Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:"expenses"}),Object(_.jsx)(z.a,{children:" matches your budget"})]})})}):i>1?Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:"expenses"}),Object(_.jsx)(z.a,{style:pa.text,children:" are "}),Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[(100*(i-1)).toFixed(),"%"]}),Object(_.jsx)(z.a,{style:pa.text,children:" in excess of your budget"})]})})}):Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsx)(z.a,{style:pa.text,children:"Your "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:"expenses"}),Object(_.jsx)(z.a,{style:pa.text,children:" are "}),Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[(100*i).toFixed(),"%"]}),Object(_.jsx)(z.a,{style:pa.text,children:" under your budget"})]})})}))}),f&&x&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P.a,{style:[pa.textContainer],children:O(n,"spending")}),Object(_.jsx)(P.a,{style:[pa.textContainer,{paddingBottom:70}],children:O(t,"budget")})]})]})})}var pa=o.a.create({screen:{flex:1,backgroundColor:"white"},text:{fontSize:26,textAlign:"center"},textContainer:{marginTop:15,marginBottom:5,marginLeft:75,marginRight:75}});function ha(e){e.navigation;var n=e.route,t=_e({onRetrieved:function(e){S()},redirect:"ifUnauthorized"}),a=Object(y.useState)(n.params.month),i=b()(a,2),r=i[0],o=(i[1],Object(y.useState)(n.params.year)),l=b()(o,2),d=l[0],s=(l[1],Object(y.useState)("")),c=b()(s,2),u=c[0],m=c[1],k=Object(y.useState)(),g=b()(k,2),j=g[0],p=g[1],h=Object(y.useState)(void 0),v=b()(h,2),f=v[0],x=v[1],O=Object(de.a)(Te,{variables:{passwordHash:t,month:r,year:d}}),N=b()(O,2),S=N[0],C=N[1],w=(C.loading,C.data);C.refetch;return Object(y.useEffect)((function(){}),[f]),Object(_.jsxs)(V.a,{keyboardShouldPersistTaps:"always",style:ya.screen,children:[Object(_.jsx)(bt,{title:"Expenses by Category",graph:Object(_.jsx)(at,{categoryData:"MonthBreakdown"===(null==w?void 0:w.monthBreakdown.__typename)?w.monthBreakdown.byCategory.slice().sort((function(e,n){return e.category&&n.category?e.category.name>n.category.name?1:e.category.name<n.category.name?-1:0:0})):[],month:r,year:d,onChangeCategory:function(e){e&&(x(e),e&&(function(e){if("MonthBreakdown"===(null==w?void 0:w.monthBreakdown.__typename)){var n=w.monthBreakdown.byCategory.findIndex((function(n){var t;return"Uncategorized"===e&&!n.category||(null==(t=n.category)?void 0:t.name)===e})),t=w.monthBreakdown.byCategory[n].amountSpent;p(t>0?t.toFixed(2):"")}else console.log("Error")}(e.name),function(e){if("MonthBreakdown"===(null==w?void 0:w.monthBreakdown.__typename)){var n=w.monthBreakdown.totalSpent,t=w.monthBreakdown.byCategory.findIndex((function(n){var t;return"Uncategorized"===e&&!n.category||(null==(t=n.category)?void 0:t.name)===e})),a=w.monthBreakdown.byCategory[t].amountSpent/n;m(a>0?Math.abs(100*a).toFixed(1)+"%":"")}}(e.name)))}})}),Object(_.jsx)(P.a,{style:ya.insightsContainer,children:void 0!==f&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50,marginHorizontal:80},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center"},children:[Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:["$",j]}),Object(_.jsx)(z.a,{style:{fontSize:26},children:" spent on "}),Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:null==f?void 0:f.name})]})})}),Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50,marginHorizontal:100},children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center"},children:[Object(_.jsx)(z.a,{style:{fontWeight:"bold",fontSize:26},children:u}),Object(_.jsxs)(z.a,{style:{fontSize:26},children:[" of your ",r.charAt(0)+r.substring(1,r.length).toLowerCase()," expenses"]})]})})})]})})]})}var ya=o.a.create({screen:{flex:1,backgroundColor:"white"},graphContainer:{alignItems:"center"},insightsContainer:{alignItems:"center",marginTop:20,marginBottom:500,zIndex:-1,elevation:-1}});function va(e){e.navigation;var n=e.route,t=_e({onRetrieved:function(e){u(),p()},redirect:"ifUnauthorized"}),a=Object(y.useState)(n.params.month),i=b()(a,2),r=i[0],o=(i[1],Object(y.useState)(n.params.year)),l=b()(o,2),d=l[0],s=(l[1],Object(de.a)(Te,{variables:{passwordHash:t,month:r,year:d}})),c=b()(s,2),u=c[0],m=c[1],k=(m.loading,m.data),g=(m.refetch,Object(de.a)(Oe,{variables:{passwordHash:t}})),j=b()(g,2),p=j[0],h=j[1],v=(h.loading,h.data);h.refetch;"MonthBreakdown"==(null==k?void 0:k.monthBreakdown.__typename)&&("$"+Math.max.apply(Math,gn()(k.monthBreakdown.byCategory.map((function(e){return e.amountSpent})))).toFixed(2),Math.min.apply(Math,gn()(k.monthBreakdown.byCategory.map((function(e){return e.amountSpent})))).toFixed(2));var f="BudgetsSuccess"===(null==v?void 0:v.budgets.__typename)?v.budgets.budgets.find((function(e){return e.month==r&&e.year==d})):void 0,x="MonthBreakdown"==(null==k?void 0:k.monthBreakdown.__typename)?k.monthBreakdown.byCategory.filter((function(e){var n,t=f?null==(n=f.budgetCategories)?void 0:n.find((function(n){var t;return n.category.name==(null==(t=e.category)?void 0:t.name)})):void 0;return(t?t.amount-e.amountSpent:-e.amountSpent)<0})):[],O="MonthBreakdown"==(null==k?void 0:k.monthBreakdown.__typename)?k.monthBreakdown.byCategory.length:0;return Object(_.jsx)(P.a,{style:fa.screen,children:Object(_.jsxs)(V.a,{children:[Object(_.jsx)(bt,{title:"Budgets by Category for "+r.slice(0,3)+" "+d,graph:Object(_.jsx)(mt,{displayAmount:3,jumpAmount:1,data:"MonthBreakdown"===(null==k?void 0:k.monthBreakdown.__typename)?k.monthBreakdown.byCategory.filter((function(e){var n,t="BudgetsSuccess"==(null==v?void 0:v.budgets.__typename)?v.budgets.budgets.find((function(e){return e.month==r&&e.year==d})):void 0,a=null==t||null==(n=t.budgetCategories)?void 0:n.find((function(n){var t;return n.category.name==(null==(t=e.category)?void 0:t.name)}));return!(0==e.amountSpent&&(void 0===a||0==a.amount))})):[],budgetReferenceData:"BudgetsSuccess"===(null==v?void 0:v.budgets.__typename)?v.budgets.budgets.find((function(e){return e.month==r&&e.year==d})):void 0})}),Object(_.jsxs)(P.a,{children:[Object(_.jsx)(P.a,{style:{flex:1,marginTop:55,marginBottom:5,marginLeft:60,marginRight:60},children:Object(_.jsx)(P.a,{style:{justifyContent:"center",alignContent:"center",paddingTop:50},children:0===x.length||0===O?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsx)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:Object(_.jsx)(z.a,{style:{textAlign:"center"},children:"Congratulations! None of your budgets were exceeded"})})})}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(P.a,{style:{justifyContent:"center"},children:Object(_.jsxs)(z.a,{style:{justifyContent:"center",textAlign:"center",flexWrap:"wrap"},children:[Object(_.jsxs)(z.a,{style:{fontWeight:"bold",fontSize:26},children:[(100*x.length/O).toFixed(1),"%"]}),Object(_.jsx)(z.a,{style:{fontSize:26},children:" of your categories were "}),Object(_.jsx)(z.a,{style:{fontSize:26,fontWeight:"bold"},children:"over "}),Object(_.jsx)(z.a,{style:{fontSize:26},children:"budget"})]})})})})}),Object(_.jsx)(P.a,{style:{flex:1,flexGrow:1,flexDirection:"column",alignItems:"center"},children:0!==x.length&&Object(_.jsxs)(P.a,{style:{flex:1,marginTop:50,marginBottom:50,marginLeft:60,marginRight:60},children:[Object(_.jsxs)(z.a,{style:{paddingBottom:10},children:[Object(_.jsx)(z.a,{style:{fontSize:26,textAlign:"center"},children:"You are "}),Object(_.jsx)(z.a,{style:{fontSize:26,fontWeight:"bold"},children:"over "}),Object(_.jsx)(z.a,{style:{fontSize:26,textAlign:"center"},children:" budget in.."})]}),x.map((function(e,n){var t;return Object(_.jsxs)(P.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(_.jsx)(nn.a,{name:"right",size:32,color:"black"}),Object(_.jsx)(z.a,{style:{fontSize:26},children:(null==(t=e.category)?void 0:t.name)||"Uncategorized"})]},n)}))]})})]})]})})}var fa=o.a.create({screen:{flex:1,backgroundColor:"white"}}),xa=t(1026),Oa={over:{backgroundColor:"hsl(2, 50%, 80%)",borderColor:"hsl(2, 80%, 30%)"},under:{backgroundColor:"hsl(108, 50%, 80%)",borderColor:"hsl(108, 80%, 30%)"}};function Na(e){var n,t=e.navigation,i=Object(y.useState)("there"),r=b()(i,2),o=r[0],l=r[1],d=Object(y.useState)(!1),s=b()(d,2),c=s[0],u=s[1],m=Object(y.useState)([]),k=b()(m,2),g=k[0],j=k[1],p=new Date,h=p.getMonth(),v=jn[h][0]+jn[h].substring(1).toLowerCase(),f=p.getFullYear(),x=Object(y.useMemo)((function(){return g.filter((function(e){return e.date.substring(0,10)>p.toJSON().substring(0,10)}))}),[g]),O=Object(de.a)(ce,{onCompleted:function(e){l("User"===(null==e?void 0:e.user.__typename)?e.user.firstName:"there")}}),N=b()(O,1)[0],S=Object(de.a)(Be),C=b()(S,2),w=C[0],F=C[1],T=F.data,D=F.refetch,I=Object(de.a)(Ve,{onCompleted:function(e){if("ExpensesSuccess"===e.expensesInMonth.__typename&&e.expensesInMonth.expenses.length){var n=e.expensesInMonth.expenses.slice();j(n.sort((function(e,n){return n.date.localeCompare(e.date)})))}}}),B=b()(I,2),A=B[0],E=B[1],R=E.data,W=E.loading,L=E.refetch,U=_e({onRetrieved:function(e){N({variables:{passwordHash:e}}),w({variables:{passwordHash:e}}),A({variables:{passwordHash:e,month:oe.August,year:f}}),Y()},redirect:"ifUnauthorized"}),q=Object(de.a)(Pe,{variables:{passwordHash:U,month:jn[h],year:f}}),J=b()(q,2),Y=J[0],$=J[1],G=$.data,Z=$.refetch;an((function(){L({passwordHash:U}),D({passwordHash:U}),Z({passwordHash:U})}));var K=Object(y.useMemo)((function(){var e=[],n=0;return"BudgetDetails"===(null==G?void 0:G.budgetDetailsByDate.__typename)&&(n=G.budgetDetailsByDate.totalActual,e=G.budgetDetailsByDate.byCategory.filter((function(e){return e.amountActual>e.amountBudgeted})).map((function(e){return e.category.name}))),{monthTotal:n,overBudgetCategories:e}}),[G]),X=Object(y.useMemo)((function(){var e=0;if("MonthsTotals"===(null==T?void 0:T.monthsTotals.__typename)&&T.monthsTotals.averageSpent){var n=T.monthsTotals.byMonth.filter((function(e){return e.year===f})).map((function(e){return e.amountSpent}));e=0===n.length?0:n.reduce((function(e,n){return e+n}),0)/n.length}return e}),[T]);function Q(e){var n,a,i=(null==(n=e.category)?void 0:n.colourHex)||H.light.uncategorizedColor,r=(null==(a=e.category)?void 0:a.name)||"Uncategorized";return Object(_.jsx)(on,{id:e.id,name:r,color:"#"+i,amount:e.amount,onPress:function(e){return t.navigate("ExpenseDetails",{expenseId:e})}},e.id)}return Object(_.jsxs)(xa.a,{style:{flex:1,backgroundColor:"white"},children:[Object(_.jsxs)(z.a,{style:Sa.greeting,children:["Hello, ",o,"!"]}),K.overBudgetCategories.length?Object(_.jsxs)(P.a,{style:[Sa.alert,Oa.over],children:[Object(_.jsx)(dn.a,{name:"info",size:24,color:Oa.over.borderColor,style:{margin:10}}),Object(_.jsxs)(z.a,{style:Sa.alertText,children:["You are over budget in these categories for the month of ",v,":",K.overBudgetCategories.map((function(e,n){return Object(_.jsx)(z.a,{style:{fontWeight:"bold"},children:" "+e+(n<K.overBudgetCategories.length-1?",":"")},n)}))]})]}):Object(_.jsxs)(P.a,{style:[Sa.alert,Oa.under],children:[Object(_.jsx)(dn.a,{name:"info",size:24,color:Oa.under.borderColor,style:{margin:10}}),Object(_.jsxs)(z.a,{style:Sa.alertText,children:["You have no over-budget categories in ",v," so far"]})]}),Object(_.jsx)(z.a,{style:Sa.subtitle,children:"Your activity:"}),Object(_.jsxs)(P.a,{style:Sa.summary,children:[Object(_.jsxs)(P.a,{style:Sa.halfSummary,children:[Object(_.jsx)(P.a,{style:Sa.dateContainer,children:Object(_.jsx)(z.a,{style:Sa.dateText,children:jn[h]})}),Object(_.jsxs)(P.a,{style:Sa.summaryDataContainer,children:[Object(_.jsxs)(z.a,{style:Sa.summaryData,children:["$","MonthBreakdown"===(null==G?void 0:G.monthBreakdown.__typename)?G.monthBreakdown.totalSpent.toFixed(2):"0.00"]}),Object(_.jsx)(z.a,{style:Sa.summaryText,children:"Your total spendings this month so far"})]})]}),Object(_.jsxs)(P.a,{style:Sa.halfSummary,children:[Object(_.jsx)(P.a,{style:Sa.dateContainer,children:Object(_.jsx)(z.a,{style:Sa.dateText,children:f})}),Object(_.jsxs)(P.a,{style:Sa.summaryDataContainer,children:[Object(_.jsxs)(z.a,{style:Sa.summaryData,children:["$",X.toFixed(2)]}),Object(_.jsx)(z.a,{style:Sa.summaryText,children:"Your average monthly spendings this year"})]})]})]}),Object(_.jsxs)(V.a,{children:[Object(_.jsxs)(P.a,{style:Sa.expenses,children:[Object(_.jsxs)(P.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(_.jsx)(z.a,{style:Sa.subtitle,children:"Upcoming Expenses:"}),Object(_.jsxs)(P.a,{style:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:15},children:[Object(_.jsx)(P.a,{style:{backgroundColor:"rgb(22, 89, 193)",alignItems:"center",justifyContent:"center",paddingHorizontal:9,paddingVertical:3,borderRadius:90,marginRight:15},children:Object(_.jsx)(z.a,{style:{fontSize:16,color:"white",textAlign:"center",textAlignVertical:"center"},children:x.length})}),Object(_.jsx)(nn.a,{name:c?"up":"down",size:20,color:"black",onPress:function(){return u(!c)}})]})]}),Object(_.jsx)(P.a,{children:c?x.length>0?x.map((function(e){return Q(e)})):Object(_.jsx)(z.a,{style:Sa.noExpense,children:"You have no upcoming expenses for this month."}):Object(_.jsx)(_.Fragment,{})})]}),Object(_.jsxs)(P.a,{style:Sa.expenses,children:[Object(_.jsx)(z.a,{style:Sa.subtitle,children:"Latest Expenses:"}),W?Object(_.jsx)(a.a,{size:"large"}):"ExpensesSuccess"===(null==R||null==(n=R.expensesInMonth)?void 0:n.__typename)?0===g.length?Object(_.jsx)((function(){return Object(_.jsxs)(z.a,{style:Sa.noExpense,children:["You have no expenses for ",v," yet. Try adding some by pressing this button:"]})}),{}):g.slice(x.length,x.length+3).map((function(e){return Q(e)})):Object(_.jsx)(z.a,{style:M.alert,children:"Something went wrong."})]})]}),Object(_.jsx)(P.a,{style:Sa.addBtn,children:Object(_.jsx)(tn,{size:70,onPress:function(){return t.navigate("CreateExpense")}})})]})}var Sa=o.a.create({greeting:{fontSize:32,fontWeight:"bold",marginHorizontal:25,marginTop:10,marginBottom:20},alert:{maxWidth:"80%",flexDirection:"row",alignItems:"center",alignSelf:"center",padding:10,borderRadius:20,borderWidth:2,fontSize:24},alertText:{fontSize:16,marginHorizontal:10,maxWidth:"80%"},subtitle:{padding:15,fontWeight:"bold",fontSize:18},summary:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",textAlign:"center"},halfSummary:{width:"45%",maxWidth:300,alignItems:"center",justifyContent:"center",marginBottom:10},summaryData:{fontWeight:"bold",fontSize:28,textAlignVertical:"center",textAlign:"center"},summaryText:{fontSize:14,textAlignVertical:"center",textAlign:"center"},summaryDataContainer:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderWidth:1,padding:10,width:"100%"},dateContainer:{backgroundColor:"rgba(173, 124, 237, 0.7)",borderTopLeftRadius:10,borderTopRightRadius:10,borderWidth:1,paddingHorizontal:10,paddingVertical:5,width:"100%"},dateText:{fontWeight:"bold",fontSize:20,textAlignVertical:"center",textAlign:"center"},expenses:{borderBottomWidth:1,borderColor:"rgba(0, 0, 0, 0.1)",marginTop:15},noExpense:{fontSize:18,margin:10},addBtn:{position:"absolute",right:15,bottom:15}});function Ca(e){var n=e.colorScheme;return Object(_.jsx)(N.a,{linking:Qe,theme:"dark"===n?S.a:C.a,children:Object(_.jsx)(Fa,{})})}var wa=Object(F.a)();function Fa(){return Object(_.jsxs)(wa.Navigator,{children:[Object(_.jsx)(wa.Screen,{name:"Welcome",component:Ke,options:{headerShown:!1}}),Object(_.jsxs)(wa.Group,{screenOptions:{headerTitle:"",headerShadowVisible:!1},children:[Object(_.jsx)(wa.Screen,{name:"SignUp",component:Ge}),Object(_.jsx)(wa.Screen,{name:"SignIn",component:Le})]}),Object(_.jsxs)(wa.Group,{screenOptions:{headerShadowVisible:!1,headerTitleAlign:"center",headerTitleStyle:{fontWeight:"bold"}},children:[Object(_.jsx)(wa.Screen,{name:"CreateMerchant",component:sa,options:{title:"Create Merchant"}}),Object(_.jsx)(wa.Screen,{name:"CreateExpense",component:Yt,options:{title:"Create Expense"}}),Object(_.jsx)(wa.Screen,{name:"ExpenseDetails",component:mn,options:{title:"Expense Details"}}),Object(_.jsx)(wa.Screen,{name:"CategorySettings",component:ra,options:{title:"Categories"}}),Object(_.jsx)(wa.Screen,{name:"EditCategory",component:ta,options:{title:"Edit Category"}}),Object(_.jsx)(wa.Screen,{name:"CreateCategory",component:It,options:{headerTitle:"Create Category"}}),Object(_.jsx)(wa.Screen,{name:"UpdateExpense",component:na,options:{headerTitle:"Edit Expense"}}),Object(_.jsx)(wa.Screen,{name:"EditBudget",component:Qt,options:{headerTitle:"Edit Budget"}}),Object(_.jsx)(wa.Screen,{name:"CreateBudget",component:$t,options:{headerTitle:"Create Budget"}}),Object(_.jsx)(wa.Screen,{name:"ExpandExpenses",component:ka,options:{headerTitle:"Insights"}}),Object(_.jsx)(wa.Screen,{name:"ExpandBudget",component:ja,options:{headerTitle:"Insights"}}),Object(_.jsx)(wa.Screen,{name:"ExpandWheel",component:ha,options:{headerTitle:"Insights"}}),Object(_.jsx)(wa.Screen,{name:"ExpandBarCat",component:va,options:{headerTitle:"Insights"}}),Object(_.jsx)(wa.Screen,{name:"MerchantSettings",component:ma,options:{headerTitle:"Merchants"}}),Object(_.jsx)(wa.Screen,{name:"UpdateMerchant",component:la,options:{headerTitle:"Update Merchant"}})]}),Object(_.jsx)(wa.Screen,{name:"NotFound",component:X,options:{headerShown:!1,title:"Oops!"}}),Object(_.jsx)(wa.Screen,{name:"Root",component:Da,options:{headerShown:!1}}),Object(_.jsx)(wa.Group,{screenOptions:{presentation:"transparentModal"},children:Object(_.jsx)(wa.Screen,{name:"ForgotPasswordModal",component:G,options:{headerShown:!1,title:"Oops!"}})})]})}var Ta=Object(O.a)();function Da(){var e=Object(w.o)(),n=Object(y.useState)(!0),t=b()(n,2),a=t[0],i=t[1];return Object(y.useEffect)((function(){e?(T.a.addListener("keyboardDidShow",(function(){i(!1)})),T.a.addListener("keyboardDidHide",(function(){i(!0)}))):(T.a.removeAllListeners("keyboardDidShow"),T.a.removeAllListeners("keyboardDidHide"))}),[e]),Object(_.jsx)(Ta.Navigator,{initialRouteName:"Home",children:Object(_.jsxs)(Ta.Group,{screenOptions:{headerShadowVisible:!1,headerTitleAlign:"center",headerTitleStyle:{fontWeight:"bold",fontSize:24},tabBarLabelStyle:{fontSize:12},tabBarStyle:{paddingBottom:25,paddingTop:5,height:70,display:a?"flex":"none"},tabBarAllowFontScaling:!0,tabBarActiveTintColor:H.light.tabIconSelected,tabBarInactiveTintColor:H.light.btnBackground},children:[Object(_.jsx)(Ta.Screen,{name:"Expenses",component:wn,options:{tabBarIcon:function(e){var n=e.color;return Object(_.jsx)($.a,{name:"pricetags",size:24,color:n})}}}),Object(_.jsx)(Ta.Screen,{name:"Budget",component:Un,options:{tabBarIcon:function(e){var n=e.color;return Object(_.jsx)($.a,{name:"wallet",size:24,color:n})}}}),Object(_.jsx)(Ta.Screen,{name:"Home",component:Na,options:{headerShown:!1,tabBarIcon:function(e){var n=e.color;return Object(_.jsx)($.a,{name:"home",size:24,color:n})}}}),Object(_.jsx)(Ta.Screen,{name:"Reports",component:ft,options:{tabBarIcon:function(e){var n=e.color;return Object(_.jsx)($.a,{name:"pie-chart",size:24,color:n})}}}),Object(_.jsx)(Ta.Screen,{name:"Settings",component:Ft,options:{tabBarIcon:function(e){var n=e.color;return Object(_.jsx)($.a,{name:"settings-sharp",size:24,color:n})}}})]})})}var Va=t(662),Ia=t(659),Ba=t(182);Ba.a.ignoreLogs(["Warning: ..."]),Ba.a.ignoreAllLogs();var za=new l.a({uri:"https://backend.ps4.bornais.ca/graphql",cache:new d.a});function Pa(){return function(){var e=Object(y.useState)(!1),n=b()(e,2),a=n[0],i=n[1];return Object(y.useEffect)((function(){g.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,g.a.awrap(p.b(x(x({},j.a.font),{},{"space-mono":t(690)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,i(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}()?Object(_.jsx)(s.a,{client:za,children:Object(_.jsxs)(Va.b,{children:[Object(_.jsx)(Ia.a,{backgroundColor:"black",style:"android"===r.a.OS?"light":"dark"}),Object(_.jsx)(Ca,{colorScheme:"light"})]})}):Object(_.jsx)(a.a,{size:"large",style:Ha.load})}i.a.registerComponent("MyApplication",(function(){return Pa}));var Ha=o.a.create({load:{flex:1,alignItems:"center",justifyContent:"center"}})},674:function(e,n,t){e.exports=t(1003)},690:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"},727:function(e,n,t){e.exports=t.p+"static/media/pigeon.4ad43613.png"},737:function(e,n){},964:function(e,n,t){var a={"./af":447,"./af.js":447,"./ar":448,"./ar-dz":449,"./ar-dz.js":449,"./ar-kw":450,"./ar-kw.js":450,"./ar-ly":451,"./ar-ly.js":451,"./ar-ma":452,"./ar-ma.js":452,"./ar-sa":453,"./ar-sa.js":453,"./ar-tn":454,"./ar-tn.js":454,"./ar.js":448,"./az":455,"./az.js":455,"./be":456,"./be.js":456,"./bg":457,"./bg.js":457,"./bm":458,"./bm.js":458,"./bn":459,"./bn-bd":460,"./bn-bd.js":460,"./bn.js":459,"./bo":461,"./bo.js":461,"./br":462,"./br.js":462,"./bs":463,"./bs.js":463,"./ca":464,"./ca.js":464,"./cs":465,"./cs.js":465,"./cv":466,"./cv.js":466,"./cy":467,"./cy.js":467,"./da":468,"./da.js":468,"./de":469,"./de-at":470,"./de-at.js":470,"./de-ch":471,"./de-ch.js":471,"./de.js":469,"./dv":472,"./dv.js":472,"./el":473,"./el.js":473,"./en-au":474,"./en-au.js":474,"./en-ca":475,"./en-ca.js":475,"./en-gb":476,"./en-gb.js":476,"./en-ie":477,"./en-ie.js":477,"./en-il":478,"./en-il.js":478,"./en-in":479,"./en-in.js":479,"./en-nz":480,"./en-nz.js":480,"./en-sg":481,"./en-sg.js":481,"./eo":482,"./eo.js":482,"./es":483,"./es-do":484,"./es-do.js":484,"./es-mx":485,"./es-mx.js":485,"./es-us":486,"./es-us.js":486,"./es.js":483,"./et":487,"./et.js":487,"./eu":488,"./eu.js":488,"./fa":489,"./fa.js":489,"./fi":490,"./fi.js":490,"./fil":491,"./fil.js":491,"./fo":492,"./fo.js":492,"./fr":493,"./fr-ca":494,"./fr-ca.js":494,"./fr-ch":495,"./fr-ch.js":495,"./fr.js":493,"./fy":496,"./fy.js":496,"./ga":497,"./ga.js":497,"./gd":498,"./gd.js":498,"./gl":499,"./gl.js":499,"./gom-deva":500,"./gom-deva.js":500,"./gom-latn":501,"./gom-latn.js":501,"./gu":502,"./gu.js":502,"./he":503,"./he.js":503,"./hi":504,"./hi.js":504,"./hr":505,"./hr.js":505,"./hu":506,"./hu.js":506,"./hy-am":507,"./hy-am.js":507,"./id":508,"./id.js":508,"./is":509,"./is.js":509,"./it":510,"./it-ch":511,"./it-ch.js":511,"./it.js":510,"./ja":512,"./ja.js":512,"./jv":513,"./jv.js":513,"./ka":514,"./ka.js":514,"./kk":515,"./kk.js":515,"./km":516,"./km.js":516,"./kn":517,"./kn.js":517,"./ko":518,"./ko.js":518,"./ku":519,"./ku.js":519,"./ky":520,"./ky.js":520,"./lb":521,"./lb.js":521,"./lo":522,"./lo.js":522,"./lt":523,"./lt.js":523,"./lv":524,"./lv.js":524,"./me":525,"./me.js":525,"./mi":526,"./mi.js":526,"./mk":527,"./mk.js":527,"./ml":528,"./ml.js":528,"./mn":529,"./mn.js":529,"./mr":530,"./mr.js":530,"./ms":531,"./ms-my":532,"./ms-my.js":532,"./ms.js":531,"./mt":533,"./mt.js":533,"./my":534,"./my.js":534,"./nb":535,"./nb.js":535,"./ne":536,"./ne.js":536,"./nl":537,"./nl-be":538,"./nl-be.js":538,"./nl.js":537,"./nn":539,"./nn.js":539,"./oc-lnc":540,"./oc-lnc.js":540,"./pa-in":541,"./pa-in.js":541,"./pl":542,"./pl.js":542,"./pt":543,"./pt-br":544,"./pt-br.js":544,"./pt.js":543,"./ro":545,"./ro.js":545,"./ru":546,"./ru.js":546,"./sd":547,"./sd.js":547,"./se":548,"./se.js":548,"./si":549,"./si.js":549,"./sk":550,"./sk.js":550,"./sl":551,"./sl.js":551,"./sq":552,"./sq.js":552,"./sr":553,"./sr-cyrl":554,"./sr-cyrl.js":554,"./sr.js":553,"./ss":555,"./ss.js":555,"./sv":556,"./sv.js":556,"./sw":557,"./sw.js":557,"./ta":558,"./ta.js":558,"./te":559,"./te.js":559,"./tet":560,"./tet.js":560,"./tg":561,"./tg.js":561,"./th":562,"./th.js":562,"./tk":563,"./tk.js":563,"./tl-ph":564,"./tl-ph.js":564,"./tlh":565,"./tlh.js":565,"./tr":566,"./tr.js":566,"./tzl":567,"./tzl.js":567,"./tzm":568,"./tzm-latn":569,"./tzm-latn.js":569,"./tzm.js":568,"./ug-cn":570,"./ug-cn.js":570,"./uk":571,"./uk.js":571,"./ur":572,"./ur.js":572,"./uz":573,"./uz-latn":574,"./uz-latn.js":574,"./uz.js":573,"./vi":575,"./vi.js":575,"./x-pseudo":576,"./x-pseudo.js":576,"./yo":577,"./yo.js":577,"./zh-cn":578,"./zh-cn.js":578,"./zh-hk":579,"./zh-hk.js":579,"./zh-mo":580,"./zh-mo.js":580,"./zh-tw":581,"./zh-tw.js":581};function i(e){var n=r(e);return t(n)}function r(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=964}},[[674,1,2]]]);
//# sourceMappingURL=app.ed3d8b5b.chunk.js.map